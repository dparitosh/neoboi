<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" />
    <title>Unstructured Data Pipeline - Neo4j Graph Visualization</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.0/dist/tailwind.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
</head>
<body class="bg-gray-50">
    <div id="unstructured-root">
        <div class="min-h-screen flex items-center justify-center">
            <div class="text-center">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
                <p class="text-gray-600">Loading Unstructured Data Pipeline...</p>
            </div>
        </div>
    </div>

    <script>
        const { React, ReactDOM } = window;
        const { useState, useEffect } = React;

        // Document Upload Component
        const DocumentUpload = ({ onUploadComplete }) => {
            const [files, setFiles] = useState([]);
            const [uploading, setUploading] = useState(false);
            const [uploadResults, setUploadResults] = useState([]);
            const [dragActive, setDragActive] = useState(false);

            const handleDrag = (e) => {
                e.preventDefault();
                e.stopPropagation();
                if (e.type === "dragenter" || e.type === "dragover") {
                    setDragActive(true);
                } else if (e.type === "dragleave") {
                    setDragActive(false);
                }
            };

            const handleDrop = (e) => {
                e.preventDefault();
                e.stopPropagation();
                setDragActive(false);

                if (e.dataTransfer.files && e.dataTransfer.files[0]) {
                    const droppedFiles = Array.from(e.dataTransfer.files);
                    validateAndAddFiles(droppedFiles);
                }
            };

            const handleFileSelect = (e) => {
                if (e.target.files) {
                    const selectedFiles = Array.from(e.target.files);
                    validateAndAddFiles(selectedFiles);
                }
            };

            const validateAndAddFiles = (newFiles) => {
                const validFiles = [];
                const errors = [];

                newFiles.forEach(file => {
                    // Check file size (50MB limit)
                    if (file.size > 50 * 1024 * 1024) {
                        errors.push(`${file.name}: File size exceeds 50MB limit`);
                        return;
                    }

                    // Check file type
                    const fileExt = '.' + file.name.split('.').pop()?.toLowerCase();
                    const acceptedTypes = ['.pdf', '.docx', '.txt', '.png', '.jpg', '.jpeg'];
                    if (!acceptedTypes.includes(fileExt)) {
                        errors.push(`${file.name}: Unsupported file type. Accepted: ${acceptedTypes.join(', ')}`);
                        return;
                    }

                    validFiles.push(file);
                });

                if (errors.length > 0) {
                    alert('Some files were rejected:\n' + errors.join('\n'));
                }

                setFiles(prev => [...prev, ...validFiles]);
            };

            const removeFile = (index) => {
                setFiles(prev => prev.filter((_, i) => i !== index));
            };

            const uploadFiles = async () => {
                if (files.length === 0) return;

                setUploading(true);
                setUploadResults([]);

                try {
                    const formData = new FormData();

                    files.forEach((file, index) => {
                        formData.append('files', file);
                    });

                    const response = await fetch('/api/unstructured/batch-process', {
                        method: 'POST',
                        body: formData,
                    });

                    const result = await response.json();

                    if (result.success) {
                        setUploadResults([{ success: true, message: result.message, files: result.files }]);
                        setFiles([]);
                        onUploadComplete?.(result);
                    } else {
                        setUploadResults([{ success: false, message: result.error || 'Upload failed' }]);
                    }
                } catch (error) {
                    setUploadResults([{ success: false, message: 'Network error occurred' }]);
                } finally {
                    setUploading(false);
                }
            };

            const formatFileSize = (bytes) => {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            };

            return React.createElement('div', { className: 'w-full max-w-2xl mx-auto p-6' },
                React.createElement('div', { className: 'mb-6' },
                    React.createElement('h2', { className: 'text-2xl font-bold text-gray-800 mb-2' }, 'Document Upload'),
                    React.createElement('p', { className: 'text-gray-600' },
                        'Upload documents for processing and analysis. Supported formats: PDF, DOCX, TXT, PNG, JPG, JPEG'
                    )
                ),

                // Upload Area
                React.createElement('div', {
                    className: `border-2 border-dashed rounded-lg p-8 text-center transition-colors ${
                        dragActive ? 'border-blue-400 bg-blue-50' : 'border-gray-300 hover:border-gray-400'
                    }`,
                    onDragEnter: handleDrag,
                    onDragLeave: handleDrag,
                    onDragOver: handleDrag,
                    onDrop: handleDrop
                },
                    React.createElement('div', { className: 'mb-4' },
                        React.createElement('p', { className: 'text-lg font-medium text-gray-700 mb-2' },
                            'Drop files here or click to browse'
                        ),
                        React.createElement('p', { className: 'text-sm text-gray-500' },
                            'Maximum file size: 50MB per file'
                        )
                    ),
                    React.createElement('input', {
                        type: 'file',
                        multiple: true,
                        accept: '.pdf,.docx,.txt,.png,.jpg,.jpeg',
                        onChange: handleFileSelect,
                        className: 'hidden',
                        id: 'file-upload'
                    }),
                    React.createElement('label', {
                        htmlFor: 'file-upload',
                        className: 'inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer transition-colors'
                    }, 'Choose Files')
                ),

                // File List
                files.length > 0 && React.createElement('div', { className: 'mt-6' },
                    React.createElement('h3', { className: 'text-lg font-medium text-gray-800 mb-3' }, 'Selected Files'),
                    React.createElement('div', { className: 'space-y-2' },
                        files.map((file, index) =>
                            React.createElement('div', {
                                key: index,
                                className: 'flex items-center justify-between p-3 bg-gray-50 rounded-md'
                            },
                                React.createElement('div', { className: 'flex items-center space-x-3' },
                                    React.createElement('div', { className: 'w-5 h-5 bg-gray-400 rounded' }),
                                    React.createElement('div', null,
                                        React.createElement('p', { className: 'font-medium text-gray-800' }, file.name),
                                        React.createElement('p', { className: 'text-sm text-gray-500' }, formatFileSize(file.size))
                                    )
                                ),
                                React.createElement('button', {
                                    onClick: () => removeFile(index),
                                    className: 'text-red-500 hover:text-red-700 p-1',
                                    disabled: uploading
                                }, '×')
                            )
                        )
                    ),

                    React.createElement('div', { className: 'mt-4 flex justify-end' },
                        React.createElement('button', {
                            onClick: uploadFiles,
                            disabled: uploading || !files.length,
                            className: 'inline-flex items-center px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors'
                        },
                            uploading ? 'Uploading...' : `Upload ${files.length} File${files.length !== 1 ? 's' : ''}`
                        )
                    )
                ),

                // Upload Results
                uploadResults.length > 0 && React.createElement('div', { className: 'mt-6' },
                    React.createElement('h3', { className: 'text-lg font-medium text-gray-800 mb-3' }, 'Upload Results'),
                    React.createElement('div', { className: 'space-y-2' },
                        uploadResults.map((result, index) =>
                            React.createElement('div', {
                                key: index,
                                className: `p-3 rounded-md flex items-center space-x-3 ${
                                    result.success ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'
                                }`
                            },
                                React.createElement('div', { className: `w-5 h-5 rounded-full ${result.success ? 'bg-green-500' : 'bg-red-500'}` }),
                                React.createElement('div', null,
                                    React.createElement('p', { className: `font-medium ${result.success ? 'text-green-800' : 'text-red-800'}` },
                                        result.success ? 'Success' : 'Error'
                                    ),
                                    React.createElement('p', { className: `text-sm ${result.success ? 'text-green-600' : 'text-red-600'}` },
                                        result.message
                                    )
                                )
                            )
                        )
                    )
                )
            );
        };

        // Document Search Component
        const DocumentSearch = ({ onResultSelect }) => {
            const [query, setQuery] = useState('');
            const [results, setResults] = useState([]);
            const [loading, setLoading] = useState(false);
            const [useLLM, setUseLLM] = useState(true);

            const performSearch = async () => {
                if (!query.trim()) return;

                setLoading(true);
                try {
                    const response = await fetch(`/api/unstructured/search?q=${encodeURIComponent(query)}&use_llm=${useLLM}`);
                    const data = await response.json();

                    if (data.success) {
                        setResults(data.results);
                    } else {
                        console.error('Search failed:', data.error);
                        setResults([]);
                    }
                } catch (error) {
                    console.error('Search error:', error);
                    setResults([]);
                } finally {
                    setLoading(false);
                }
            };

            const handleKeyPress = (e) => {
                if (e.key === 'Enter') {
                    performSearch();
                }
            };

            const formatScore = (score) => {
                return (score * 100).toFixed(1) + '%';
            };

            return React.createElement('div', { className: 'w-full max-w-4xl mx-auto p-6' },
                React.createElement('div', { className: 'mb-6' },
                    React.createElement('h2', { className: 'text-2xl font-bold text-gray-800 mb-2' }, 'Document Search'),
                    React.createElement('p', { className: 'text-gray-600' },
                        'Search through processed documents using natural language queries'
                    )
                ),

                // Search Input
                React.createElement('div', { className: 'mb-6' },
                    React.createElement('div', { className: 'flex gap-4 mb-4' },
                        React.createElement('div', { className: 'flex-1 relative' },
                            React.createElement('input', {
                                type: 'text',
                                value: query,
                                onChange: (e) => setQuery(e.target.value),
                                onKeyPress: handleKeyPress,
                                placeholder: 'Enter your search query...',
                                className: 'w-full pl-4 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent'
                            })
                        ),
                        React.createElement('button', {
                            onClick: performSearch,
                            disabled: loading || !query.trim(),
                            className: 'px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors'
                        },
                            loading ? 'Searching...' : 'Search'
                        )
                    ),

                    // Search Options
                    React.createElement('div', { className: 'flex items-center gap-4' },
                        React.createElement('label', { className: 'flex items-center gap-2' },
                            React.createElement('input', {
                                type: 'checkbox',
                                checked: useLLM,
                                onChange: (e) => setUseLLM(e.target.checked),
                                className: 'rounded border-gray-300 text-blue-600 focus:ring-blue-500'
                            }),
                            React.createElement('span', { className: 'text-sm text-gray-600' }, 'Use AI understanding')
                        ),
                        React.createElement('span', { className: 'text-xs text-gray-500' },
                            'AI-enhanced search provides better results by understanding context'
                        )
                    )
                ),

                // Search Results
                React.createElement('div', { className: 'space-y-4' },
                    loading && React.createElement('div', { className: 'text-center py-8' },
                        React.createElement('div', { className: 'animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4' }),
                        React.createElement('p', { className: 'text-gray-600' }, 'Searching documents...')
                    ),

                    !loading && results.length === 0 && query && React.createElement('div', { className: 'text-center py-8' },
                        React.createElement('div', { className: 'text-gray-400 mb-4' }, '📄'),
                        React.createElement('p', { className: 'text-gray-600' }, `No results found for "${query}"`),
                        React.createElement('p', { className: 'text-sm text-gray-500 mt-2' },
                            'Try different keywords or check if documents have been processed'
                        )
                    ),

                    results.map((result, index) =>
                        React.createElement('div', {
                            key: index,
                            className: 'border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer',
                            onClick: () => onResultSelect?.(result)
                        },
                            React.createElement('div', { className: 'flex items-start justify-between mb-2' },
                                React.createElement('div', { className: 'flex items-center gap-2' },
                                    React.createElement('div', { className: 'w-5 h-5 bg-gray-400 rounded' }),
                                    React.createElement('h3', { className: 'font-medium text-gray-800' }, result.filename),
                                    React.createElement('span', { className: 'text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded' },
                                        result.processing_type
                                    )
                                ),
                                React.createElement('div', { className: 'text-right' },
                                    React.createElement('div', { className: 'text-sm font-medium text-green-600' },
                                        formatScore(result.score) + ' match'
                                    ),
                                    React.createElement('div', { className: 'text-xs text-gray-500' },
                                        result.word_count + ' words'
                                    )
                                )
                            ),

                            result.matched_keywords && result.matched_keywords.length > 0 && React.createElement('div', { className: 'mb-2' },
                                React.createElement('div', { className: 'flex flex-wrap gap-1' },
                                    result.matched_keywords.map((keyword, idx) =>
                                        React.createElement('span', {
                                            key: idx,
                                            className: 'text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded'
                                        }, keyword)
                                    )
                                )
                            ),

                            React.createElement('div', { className: 'text-sm text-gray-600' },
                                result.content_preview
                            )
                        )
                    )
                ),

                // Results Summary
                !loading && results.length > 0 && React.createElement('div', { className: 'mt-6 text-center text-sm text-gray-600' },
                    `Found ${results.length} result${results.length !== 1 ? 's' : ''} for "${query}"`
                )
            );
        };

        // Main App Component
        const UnstructuredDataApp = () => {
            const [activeTab, setActiveTab] = useState('upload');
            const [serviceStatus, setServiceStatus] = useState(null);
            const [selectedResult, setSelectedResult] = useState(null);

            useEffect(() => {
                checkServiceStatus();
            }, []);

            const checkServiceStatus = async () => {
                try {
                    const response = await fetch('/api/unstructured/status');
                    const data = await response.json();
                    setServiceStatus(data.services);
                } catch (error) {
                    console.error('Failed to check service status:', error);
                }
            };

            const tabs = [
                { id: 'upload', label: 'Upload Documents', icon: '📤' },
                { id: 'search', label: 'Search Documents', icon: '🔍' },
                { id: 'results', label: 'Search Results', icon: '📄' },
                { id: 'analytics', label: 'Analytics', icon: '📊' },
            ];

            const renderTabContent = () => {
                switch (activeTab) {
                    case 'upload':
                        return React.createElement(DocumentUpload, {
                            onUploadComplete: (result) => {
                                console.log('Upload completed:', result);
                            }
                        });

                    case 'search':
                        return React.createElement(DocumentSearch, {
                            onResultSelect: (result) => {
                                setSelectedResult(result);
                                setActiveTab('results');
                            }
                        });

                    case 'results':
                        return selectedResult ? React.createElement('div', { className: 'max-w-4xl mx-auto p-6' },
                            React.createElement('h2', { className: 'text-2xl font-bold text-gray-800 mb-6' }, 'Document Details'),
                            React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                                React.createElement('div', { className: 'mb-4' },
                                    React.createElement('h3', { className: 'text-xl font-semibold text-gray-800 mb-2' }, selectedResult.filename),
                                    React.createElement('div', { className: 'flex items-center gap-4 text-sm text-gray-600' },
                                        React.createElement('span', null, `Match Score: ${(selectedResult.score * 100).toFixed(1)}%`),
                                        React.createElement('span', null, `Words: ${selectedResult.word_count}`),
                                        React.createElement('span', null, `Type: ${selectedResult.processing_type}`)
                                    )
                                ),

                                selectedResult.matched_keywords && selectedResult.matched_keywords.length > 0 && React.createElement('div', { className: 'mb-4' },
                                    React.createElement('h4', { className: 'font-medium text-gray-700 mb-2' }, 'Matched Keywords:'),
                                    React.createElement('div', { className: 'flex flex-wrap gap-2' },
                                        selectedResult.matched_keywords.map((keyword, index) =>
                                            React.createElement('span', {
                                                key: index,
                                                className: 'bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm'
                                            }, keyword)
                                        )
                                    )
                                ),

                                React.createElement('div', { className: 'mb-4' },
                                    React.createElement('h4', { className: 'font-medium text-gray-700 mb-2' }, 'Content Preview:'),
                                    React.createElement('div', { className: 'bg-gray-50 p-4 rounded-lg' },
                                        React.createElement('p', { className: 'text-gray-700 whitespace-pre-wrap' },
                                            selectedResult.content_preview
                                        )
                                    )
                                ),

                                React.createElement('div', { className: 'flex gap-4' },
                                    React.createElement('button', {
                                        onClick: () => setActiveTab('search'),
                                        className: 'px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors'
                                    }, 'Back to Search'),
                                    React.createElement('button', {
                                        className: 'px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors'
                                    }, 'Analyze Document')
                                )
                            )
                        ) : React.createElement('div', { className: 'text-center py-12' },
                            React.createElement('div', { className: 'text-6xl mb-4' }, '📄'),
                            React.createElement('h3', { className: 'text-xl font-medium text-gray-600 mb-2' }, 'No Document Selected'),
                            React.createElement('p', { className: 'text-gray-500 mb-4' }, 'Search for documents to view details here'),
                            React.createElement('button', {
                                onClick: () => setActiveTab('search'),
                                className: 'px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors'
                            }, 'Go to Search')
                        );

                    case 'analytics':
                        return React.createElement('div', { className: 'max-w-4xl mx-auto p-6' },
                            React.createElement('h2', { className: 'text-2xl font-bold text-gray-800 mb-6' }, 'Document Analytics'),

                            serviceStatus && React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8' },
                                React.createElement('div', { className: 'bg-white p-4 rounded-lg shadow-md' },
                                    React.createElement('div', { className: 'flex items-center justify-between' },
                                        React.createElement('div', null,
                                            React.createElement('p', { className: 'text-sm font-medium text-gray-600' }, 'Tika Server'),
                                            React.createElement('p', { className: `text-lg font-semibold ${serviceStatus.tika_server ? 'text-green-600' : 'text-red-600'}` },
                                                serviceStatus.tika_server ? 'Running' : 'Stopped'
                                            )
                                        ),
                                        React.createElement('div', { className: `p-2 rounded-full ${serviceStatus.tika_server ? 'bg-green-100' : 'bg-red-100'}` },
                                            React.createElement('div', { className: `w-3 h-3 rounded-full ${serviceStatus.tika_server ? 'bg-green-500' : 'bg-red-500'}` })
                                        )
                                    )
                                ),

                                React.createElement('div', { className: 'bg-white p-4 rounded-lg shadow-md' },
                                    React.createElement('div', { className: 'flex items-center justify-between' },
                                        React.createElement('div', null,
                                            React.createElement('p', { className: 'text-sm font-medium text-gray-600' }, 'LLM Service'),
                                            React.createElement('p', { className: `text-lg font-semibold ${serviceStatus.llm_service ? 'text-green-600' : 'text-red-600'}` },
                                                serviceStatus.llm_service ? 'Running' : 'Stopped'
                                            )
                                        ),
                                        React.createElement('div', { className: `p-2 rounded-full ${serviceStatus.llm_service ? 'bg-green-100' : 'bg-red-100'}` },
                                            React.createElement('div', { className: `w-3 h-3 rounded-full ${serviceStatus.llm_service ? 'bg-green-500' : 'bg-red-500'}` })
                                        )
                                    )
                                ),

                                React.createElement('div', { className: 'bg-white p-4 rounded-lg shadow-md' },
                                    React.createElement('div', { className: 'flex items-center justify-between' },
                                        React.createElement('div', null,
                                            React.createElement('p', { className: 'text-sm font-medium text-gray-600' }, 'Available Models'),
                                            React.createElement('p', { className: 'text-lg font-semibold text-blue-600' },
                                                serviceStatus.available_models?.length || 0
                                            )
                                        ),
                                        React.createElement('div', { className: 'p-2 rounded-full bg-blue-100' },
                                            React.createElement('div', { className: 'w-3 h-3 text-blue-500' }, '⚙️')
                                        )
                                    )
                                ),

                                React.createElement('div', { className: 'bg-white p-4 rounded-lg shadow-md' },
                                    React.createElement('div', { className: 'flex items-center justify-between' },
                                        React.createElement('div', null,
                                            React.createElement('p', { className: 'text-sm font-medium text-gray-600' }, 'Processed Docs'),
                                            React.createElement('p', { className: 'text-lg font-semibold text-purple-600' },
                                                serviceStatus.processed_documents_count || 0
                                            )
                                        ),
                                        React.createElement('div', { className: 'p-2 rounded-full bg-purple-100' },
                                            React.createElement('div', { className: 'w-3 h-3 text-purple-500' }, '📄')
                                        )
                                    )
                                )
                            ),

                            React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                                React.createElement('h3', { className: 'text-lg font-semibold text-gray-800 mb-4' }, 'Supported File Types'),
                                React.createElement('div', { className: 'grid grid-cols-2 md:grid-cols-3 gap-4' },
                                    React.createElement('div', { className: 'text-center p-3 bg-gray-50 rounded-lg' },
                                        React.createElement('div', { className: 'text-2xl mb-2' }, '📄'),
                                        React.createElement('p', { className: 'font-medium text-gray-700' }, 'Documents'),
                                        React.createElement('p', { className: 'text-sm text-gray-500' }, 'PDF, DOCX, TXT')
                                    ),
                                    React.createElement('div', { className: 'text-center p-3 bg-gray-50 rounded-lg' },
                                        React.createElement('div', { className: 'text-2xl mb-2' }, '🖼️'),
                                        React.createElement('p', { className: 'font-medium text-gray-700' }, 'Images'),
                                        React.createElement('p', { className: 'text-sm text-gray-500' }, 'PNG, JPG, TIFF')
                                    ),
                                    React.createElement('div', { className: 'text-center p-3 bg-gray-50 rounded-lg' },
                                        React.createElement('div', { className: 'text-2xl mb-2' }, '📊'),
                                        React.createElement('p', { className: 'font-medium text-gray-700' }, 'Spreadsheets'),
                                        React.createElement('p', { className: 'text-sm text-gray-500' }, 'XLSX, CSV')
                                    )
                                )
                            )
                        );

                    default:
                        return null;
                }
            };

            return React.createElement('div', { className: 'min-h-screen bg-gray-50' },
                React.createElement('div', { className: 'bg-white shadow-sm border-b' },
                    React.createElement('div', { className: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8' },
                        React.createElement('div', { className: 'flex items-center justify-between h-16' },
                            React.createElement('div', { className: 'flex items-center' },
                                React.createElement('h1', { className: 'text-xl font-semibold text-gray-900' },
                                    'Unstructured Data Pipeline'
                                )
                            ),
                            React.createElement('div', { className: 'flex items-center space-x-4' },
                                React.createElement('button', {
                                    onClick: checkServiceStatus,
                                    className: 'px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors'
                                }, 'Refresh Status')
                            )
                        )
                    )
                ),

                React.createElement('div', { className: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6' },
                    // Tab Navigation
                    React.createElement('div', { className: 'mb-6' },
                        React.createElement('nav', { className: 'flex space-x-8' },
                            tabs.map(tab =>
                                React.createElement('button', {
                                    key: tab.id,
                                    onClick: () => setActiveTab(tab.id),
                                    className: `flex items-center px-1 py-2 border-b-2 font-medium text-sm transition-colors ${
                                        activeTab === tab.id
                                            ? 'border-blue-500 text-blue-600'
                                            : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                                    }`
                                },
                                    React.createElement('span', { className: 'mr-2' }, tab.icon),
                                    tab.label
                                )
                            )
                        )
                    ),

                    // Tab Content
                    React.createElement('div', { className: 'bg-white rounded-lg shadow-sm min-h-[600px]' },
                        renderTabContent()
                    )
                )
            );
        };

        // Render the app using React 18 createRoot API
        const root = ReactDOM.createRoot(document.getElementById('unstructured-root'));
        root.render(React.createElement(UnstructuredDataApp));
    </script>
</body>
</html>