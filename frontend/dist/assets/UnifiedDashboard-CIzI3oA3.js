import{j as s}from"./index-DLjDUbDL.js";import{d as An,c as Tn,g as us,r as D}from"./vendor-C4fuUDY3.js";import{c as pr,a as Rn}from"./cytoscape-CeR6Q-rO.js";function ps(e,t){return function(){return e.apply(t,arguments)}}const{toString:kn}=Object.prototype,{getPrototypeOf:fr}=Object,{iterator:Pt,toStringTag:fs}=Symbol,_t=(e=>t=>{const r=kn.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),pe=e=>(e=e.toLowerCase(),t=>_t(t)===e),Lt=e=>t=>typeof t===e,{isArray:We}=Array,Me=Lt("undefined");function nt(e){return e!==null&&!Me(e)&&e.constructor!==null&&!Me(e.constructor)&&te(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ms=pe("ArrayBuffer");function Dn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ms(e.buffer),t}const Fn=Lt("string"),te=Lt("function"),hs=Lt("number"),ot=e=>e!==null&&typeof e=="object",Pn=e=>e===!0||e===!1,Ct=e=>{if(_t(e)!=="object")return!1;const t=fr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(fs in e)&&!(Pt in e)},_n=e=>{if(!ot(e)||nt(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ln=pe("Date"),Bn=pe("File"),$n=pe("Blob"),Un=pe("FileList"),Mn=e=>ot(e)&&te(e.pipe),In=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||te(e.append)&&((t=_t(e))==="formdata"||t==="object"&&te(e.toString)&&e.toString()==="[object FormData]"))},qn=pe("URLSearchParams"),[Hn,zn,Vn,Wn]=["ReadableStream","Request","Response","Headers"].map(pe),Jn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function it(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),We(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(nt(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let c;for(n=0;n<a;n++)c=i[n],t.call(null,e[c],c,e)}}function gs(e,t){if(nt(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const Oe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xs=e=>!Me(e)&&e!==Oe;function rr(){const{caseless:e,skipUndefined:t}=xs(this)&&this||{},r={},n=(o,i)=>{const a=e&&gs(r,i)||i;Ct(r[a])&&Ct(o)?r[a]=rr(r[a],o):Ct(o)?r[a]=rr({},o):We(o)?r[a]=o.slice():(!t||!Me(o))&&(r[a]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&it(arguments[o],n);return r}const Kn=(e,t,r,{allOwnKeys:n}={})=>(it(t,(o,i)=>{r&&te(o)?e[i]=ps(o,r):e[i]=o},{allOwnKeys:n}),e),Xn=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Gn=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Yn=(e,t,r,n)=>{let o,i,a;const c={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!n||n(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=r!==!1&&fr(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Zn=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Qn=e=>{if(!e)return null;if(We(e))return e;let t=e.length;if(!hs(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},eo=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fr(Uint8Array)),to=(e,t)=>{const n=(e&&e[Pt]).call(e);let o;for(;(o=n.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},ro=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},so=pe("HTMLFormElement"),no=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),Tr=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),oo=pe("RegExp"),ys=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};it(r,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(n[i]=a||o)}),Object.defineProperties(e,n)},io=e=>{ys(e,(t,r)=>{if(te(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(te(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ao=(e,t)=>{const r={},n=o=>{o.forEach(i=>{r[i]=!0})};return We(e)?n(e):n(String(e).split(t)),r},lo=()=>{},co=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function uo(e){return!!(e&&te(e.append)&&e[fs]==="FormData"&&e[Pt])}const po=e=>{const t=new Array(10),r=(n,o)=>{if(ot(n)){if(t.indexOf(n)>=0)return;if(nt(n))return n;if(!("toJSON"in n)){t[o]=n;const i=We(n)?[]:{};return it(n,(a,c)=>{const d=r(a,o+1);!Me(d)&&(i[c]=d)}),t[o]=void 0,i}}return n};return r(e,0)},fo=pe("AsyncFunction"),mo=e=>e&&(ot(e)||te(e))&&te(e.then)&&te(e.catch),bs=((e,t)=>e?setImmediate:t?((r,n)=>(Oe.addEventListener("message",({source:o,data:i})=>{o===Oe&&i===r&&n.length&&n.shift()()},!1),o=>{n.push(o),Oe.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",te(Oe.postMessage)),ho=typeof queueMicrotask<"u"?queueMicrotask.bind(Oe):typeof process<"u"&&process.nextTick||bs,go=e=>e!=null&&te(e[Pt]),g={isArray:We,isArrayBuffer:ms,isBuffer:nt,isFormData:In,isArrayBufferView:Dn,isString:Fn,isNumber:hs,isBoolean:Pn,isObject:ot,isPlainObject:Ct,isEmptyObject:_n,isReadableStream:Hn,isRequest:zn,isResponse:Vn,isHeaders:Wn,isUndefined:Me,isDate:Ln,isFile:Bn,isBlob:$n,isRegExp:oo,isFunction:te,isStream:Mn,isURLSearchParams:qn,isTypedArray:eo,isFileList:Un,forEach:it,merge:rr,extend:Kn,trim:Jn,stripBOM:Xn,inherits:Gn,toFlatObject:Yn,kindOf:_t,kindOfTest:pe,endsWith:Zn,toArray:Qn,forEachEntry:to,matchAll:ro,isHTMLForm:so,hasOwnProperty:Tr,hasOwnProp:Tr,reduceDescriptors:ys,freezeMethods:io,toObjectSet:ao,toCamelCase:no,noop:lo,toFiniteNumber:co,findKey:gs,global:Oe,isContextDefined:xs,isSpecCompliantForm:uo,toJSONObject:po,isAsyncFn:fo,isThenable:mo,setImmediate:bs,asap:ho,isIterable:go};function F(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}g.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:g.toJSONObject(this.config),code:this.code,status:this.status}}});const vs=F.prototype,ws={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ws[e]={value:e}});Object.defineProperties(F,ws);Object.defineProperty(vs,"isAxiosError",{value:!0});F.from=(e,t,r,n,o,i)=>{const a=Object.create(vs);g.toFlatObject(e,a,function(u){return u!==Error.prototype},p=>p!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return F.call(a,c,d,r,n,o),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const xo=null;function sr(e){return g.isPlainObject(e)||g.isArray(e)}function js(e){return g.endsWith(e,"[]")?e.slice(0,-2):e}function Rr(e,t,r){return e?e.concat(t).map(function(o,i){return o=js(o),!r&&i?"["+o+"]":o}).join(r?".":""):t}function yo(e){return g.isArray(e)&&!e.some(sr)}const bo=g.toFlatObject(g,{},null,function(t){return/^is[A-Z]/.test(t)});function Bt(e,t,r){if(!g.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=g.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,m){return!g.isUndefined(m[y])});const n=r.metaTokens,o=r.visitor||u,i=r.dots,a=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&g.isSpecCompliantForm(t);if(!g.isFunction(o))throw new TypeError("visitor must be a function");function p(f){if(f===null)return"";if(g.isDate(f))return f.toISOString();if(g.isBoolean(f))return f.toString();if(!d&&g.isBlob(f))throw new F("Blob is not supported. Use a Buffer instead.");return g.isArrayBuffer(f)||g.isTypedArray(f)?d&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,y,m){let S=f;if(f&&!m&&typeof f=="object"){if(g.endsWith(y,"{}"))y=n?y:y.slice(0,-2),f=JSON.stringify(f);else if(g.isArray(f)&&yo(f)||(g.isFileList(f)||g.endsWith(y,"[]"))&&(S=g.toArray(f)))return y=js(y),S.forEach(function(N,l){!(g.isUndefined(N)||N===null)&&t.append(a===!0?Rr([y],l,i):a===null?y:y+"[]",p(N))}),!1}return sr(f)?!0:(t.append(Rr(m,y,i),p(f)),!1)}const b=[],C=Object.assign(bo,{defaultVisitor:u,convertValue:p,isVisitable:sr});function E(f,y){if(!g.isUndefined(f)){if(b.indexOf(f)!==-1)throw Error("Circular reference detected in "+y.join("."));b.push(f),g.forEach(f,function(S,j){(!(g.isUndefined(S)||S===null)&&o.call(t,S,g.isString(j)?j.trim():j,y,C))===!0&&E(S,y?y.concat(j):[j])}),b.pop()}}if(!g.isObject(e))throw new TypeError("data must be an object");return E(e),t}function kr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function mr(e,t){this._pairs=[],e&&Bt(e,this,t)}const Ns=mr.prototype;Ns.append=function(t,r){this._pairs.push([t,r])};Ns.toString=function(t){const r=t?function(n){return t.call(this,n,kr)}:kr;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function vo(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Es(e,t,r){if(!t)return e;const n=r&&r.encode||vo;g.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let i;if(o?i=o(t,r):i=g.isURLSearchParams(t)?t.toString():new mr(t,r).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Dr{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){g.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Cs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wo=typeof URLSearchParams<"u"?URLSearchParams:mr,jo=typeof FormData<"u"?FormData:null,No=typeof Blob<"u"?Blob:null,Eo={isBrowser:!0,classes:{URLSearchParams:wo,FormData:jo,Blob:No},protocols:["http","https","file","blob","url","data"]},hr=typeof window<"u"&&typeof document<"u",nr=typeof navigator=="object"&&navigator||void 0,Co=hr&&(!nr||["ReactNative","NativeScript","NS"].indexOf(nr.product)<0),So=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Oo=hr&&window.location.href||"http://localhost",Ao=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hr,hasStandardBrowserEnv:Co,hasStandardBrowserWebWorkerEnv:So,navigator:nr,origin:Oo},Symbol.toStringTag,{value:"Module"})),X={...Ao,...Eo};function To(e,t){return Bt(e,new X.classes.URLSearchParams,{visitor:function(r,n,o,i){return X.isNode&&g.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Ro(e){return g.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ko(e){const t={},r=Object.keys(e);let n;const o=r.length;let i;for(n=0;n<o;n++)i=r[n],t[i]=e[i];return t}function Ss(e){function t(r,n,o,i){let a=r[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),d=i>=r.length;return a=!a&&g.isArray(o)?o.length:a,d?(g.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!c):((!o[a]||!g.isObject(o[a]))&&(o[a]=[]),t(r,n,o[a],i)&&g.isArray(o[a])&&(o[a]=ko(o[a])),!c)}if(g.isFormData(e)&&g.isFunction(e.entries)){const r={};return g.forEachEntry(e,(n,o)=>{t(Ro(n),o,r,0)}),r}return null}function Do(e,t,r){if(g.isString(e))try{return(t||JSON.parse)(e),g.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const at={transitional:Cs,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,i=g.isObject(t);if(i&&g.isHTMLForm(t)&&(t=new FormData(t)),g.isFormData(t))return o?JSON.stringify(Ss(t)):t;if(g.isArrayBuffer(t)||g.isBuffer(t)||g.isStream(t)||g.isFile(t)||g.isBlob(t)||g.isReadableStream(t))return t;if(g.isArrayBufferView(t))return t.buffer;if(g.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return To(t,this.formSerializer).toString();if((c=g.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Bt(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),Do(t)):t}],transformResponse:[function(t){const r=this.transitional||at.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(g.isResponse(t)||g.isReadableStream(t))return t;if(t&&g.isString(t)&&(n&&!this.responseType||o)){const a=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?F.from(c,F.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:X.classes.FormData,Blob:X.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};g.forEach(["delete","get","head","post","put","patch"],e=>{at.headers[e]={}});const Fo=g.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Po=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),r=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!r||t[r]&&Fo[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Fr=Symbol("internals");function et(e){return e&&String(e).trim().toLowerCase()}function St(e){return e===!1||e==null?e:g.isArray(e)?e.map(St):String(e)}function _o(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Lo=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wt(e,t,r,n,o){if(g.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!g.isString(t)){if(g.isString(n))return t.indexOf(n)!==-1;if(g.isRegExp(n))return n.test(t)}}function Bo(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function $o(e,t){const r=g.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,i,a){return this[n].call(this,t,o,i,a)},configurable:!0})})}let re=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function i(c,d,p){const u=et(d);if(!u)throw new Error("header name must be a non-empty string");const b=g.findKey(o,u);(!b||o[b]===void 0||p===!0||p===void 0&&o[b]!==!1)&&(o[b||d]=St(c))}const a=(c,d)=>g.forEach(c,(p,u)=>i(p,u,d));if(g.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(g.isString(t)&&(t=t.trim())&&!Lo(t))a(Po(t),r);else if(g.isObject(t)&&g.isIterable(t)){let c={},d,p;for(const u of t){if(!g.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[p=u[0]]=(d=c[p])?g.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}a(c,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=et(t),t){const n=g.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return _o(o);if(g.isFunction(r))return r.call(this,o,n);if(g.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=et(t),t){const n=g.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Wt(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function i(a){if(a=et(a),a){const c=g.findKey(n,a);c&&(!r||Wt(n,n[c],c,r))&&(delete n[c],o=!0)}}return g.isArray(t)?t.forEach(i):i(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const i=r[n];(!t||Wt(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const r=this,n={};return g.forEach(this,(o,i)=>{const a=g.findKey(n,i);if(a){r[a]=St(o),delete r[i];return}const c=t?Bo(i):String(i).trim();c!==i&&delete r[i],r[c]=St(o),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return g.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&g.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Fr]=this[Fr]={accessors:{}}).accessors,o=this.prototype;function i(a){const c=et(a);n[c]||($o(o,a),n[c]=!0)}return g.isArray(t)?t.forEach(i):i(t),this}};re.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);g.reduceDescriptors(re.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});g.freezeMethods(re);function Jt(e,t){const r=this||at,n=t||r,o=re.from(n.headers);let i=n.data;return g.forEach(e,function(c){i=c.call(r,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function Os(e){return!!(e&&e.__CANCEL__)}function Je(e,t,r){F.call(this,e??"canceled",F.ERR_CANCELED,t,r),this.name="CanceledError"}g.inherits(Je,F,{__CANCEL__:!0});function As(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new F("Request failed with status code "+r.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Uo(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Mo(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(d){const p=Date.now(),u=n[i];a||(a=p),r[o]=d,n[o]=p;let b=i,C=0;for(;b!==o;)C+=r[b++],b=b%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),p-a<t)return;const E=u&&p-u;return E?Math.round(C*1e3/E):void 0}}function Io(e,t){let r=0,n=1e3/t,o,i;const a=(p,u=Date.now())=>{r=u,o=null,i&&(clearTimeout(i),i=null),e(...p)};return[(...p)=>{const u=Date.now(),b=u-r;b>=n?a(p,u):(o=p,i||(i=setTimeout(()=>{i=null,a(o)},n-b)))},()=>o&&a(o)]}const Rt=(e,t,r=3)=>{let n=0;const o=Mo(50,250);return Io(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,d=a-n,p=o(d),u=a<=c;n=a;const b={loaded:a,total:c,progress:c?a/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&u?(c-a)/p:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(b)},r)},Pr=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},_r=e=>(...t)=>g.asap(()=>e(...t)),qo=X.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,X.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(X.origin),X.navigator&&/(msie|trident)/i.test(X.navigator.userAgent)):()=>!0,Ho=X.hasStandardBrowserEnv?{write(e,t,r,n,o,i){const a=[e+"="+encodeURIComponent(t)];g.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),g.isString(n)&&a.push("path="+n),g.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zo(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Vo(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ts(e,t,r){let n=!zo(t);return e&&(n||r==!1)?Vo(e,t):t}const Lr=e=>e instanceof re?{...e}:e;function Re(e,t){t=t||{};const r={};function n(p,u,b,C){return g.isPlainObject(p)&&g.isPlainObject(u)?g.merge.call({caseless:C},p,u):g.isPlainObject(u)?g.merge({},u):g.isArray(u)?u.slice():u}function o(p,u,b,C){if(g.isUndefined(u)){if(!g.isUndefined(p))return n(void 0,p,b,C)}else return n(p,u,b,C)}function i(p,u){if(!g.isUndefined(u))return n(void 0,u)}function a(p,u){if(g.isUndefined(u)){if(!g.isUndefined(p))return n(void 0,p)}else return n(void 0,u)}function c(p,u,b){if(b in t)return n(p,u);if(b in e)return n(void 0,p)}const d={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(p,u,b)=>o(Lr(p),Lr(u),b,!0)};return g.forEach(Object.keys({...e,...t}),function(u){const b=d[u]||o,C=b(e[u],t[u],u);g.isUndefined(C)&&b!==c||(r[u]=C)}),r}const Rs=e=>{const t=Re({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:c}=t;if(t.headers=a=re.from(a),t.url=Es(Ts(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),g.isFormData(r)){if(X.hasStandardBrowserEnv||X.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(g.isFunction(r.getHeaders)){const d=r.getHeaders(),p=["content-type","content-length"];Object.entries(d).forEach(([u,b])=>{p.includes(u.toLowerCase())&&a.set(u,b)})}}if(X.hasStandardBrowserEnv&&(n&&g.isFunction(n)&&(n=n(t)),n||n!==!1&&qo(t.url))){const d=o&&i&&Ho.read(i);d&&a.set(o,d)}return t},Wo=typeof XMLHttpRequest<"u",Jo=Wo&&function(e){return new Promise(function(r,n){const o=Rs(e);let i=o.data;const a=re.from(o.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:p}=o,u,b,C,E,f;function y(){E&&E(),f&&f(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(o.method.toUpperCase(),o.url,!0),m.timeout=o.timeout;function S(){if(!m)return;const N=re.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),x={data:!c||c==="text"||c==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:N,config:e,request:m};As(function(O){r(O),y()},function(O){n(O),y()},x),m=null}"onloadend"in m?m.onloadend=S:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(S)},m.onabort=function(){m&&(n(new F("Request aborted",F.ECONNABORTED,e,m)),m=null)},m.onerror=function(l){const x=l&&l.message?l.message:"Network Error",v=new F(x,F.ERR_NETWORK,e,m);v.event=l||null,n(v),m=null},m.ontimeout=function(){let l=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const x=o.transitional||Cs;o.timeoutErrorMessage&&(l=o.timeoutErrorMessage),n(new F(l,x.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,e,m)),m=null},i===void 0&&a.setContentType(null),"setRequestHeader"in m&&g.forEach(a.toJSON(),function(l,x){m.setRequestHeader(x,l)}),g.isUndefined(o.withCredentials)||(m.withCredentials=!!o.withCredentials),c&&c!=="json"&&(m.responseType=o.responseType),p&&([C,f]=Rt(p,!0),m.addEventListener("progress",C)),d&&m.upload&&([b,E]=Rt(d),m.upload.addEventListener("progress",b),m.upload.addEventListener("loadend",E)),(o.cancelToken||o.signal)&&(u=N=>{m&&(n(!N||N.type?new Je(null,e,m):N),m.abort(),m=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const j=Uo(o.url);if(j&&X.protocols.indexOf(j)===-1){n(new F("Unsupported protocol "+j+":",F.ERR_BAD_REQUEST,e));return}m.send(i||null)})},Ko=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const i=function(p){if(!o){o=!0,c();const u=p instanceof Error?p:this.reason;n.abort(u instanceof F?u:new Je(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,i(new F(`timeout ${t} of ms exceeded`,F.ETIMEDOUT))},t);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>g.asap(c),d}},Xo=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},Go=async function*(e,t){for await(const r of Yo(e))yield*Xo(r,t)},Yo=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Br=(e,t,r,n)=>{const o=Go(e,t);let i=0,a,c=d=>{a||(a=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:p,value:u}=await o.next();if(p){c(),d.close();return}let b=u.byteLength;if(r){let C=i+=b;r(C)}d.enqueue(new Uint8Array(u))}catch(p){throw c(p),p}},cancel(d){return c(d),o.return()}},{highWaterMark:2})},$r=64*1024,{isFunction:wt}=g,Zo=(({Request:e,Response:t})=>({Request:e,Response:t}))(g.global),{ReadableStream:Ur,TextEncoder:Mr}=g.global,Ir=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Qo=e=>{e=g.merge.call({skipUndefined:!0},Zo,e);const{fetch:t,Request:r,Response:n}=e,o=t?wt(t):typeof fetch=="function",i=wt(r),a=wt(n);if(!o)return!1;const c=o&&wt(Ur),d=o&&(typeof Mr=="function"?(f=>y=>f.encode(y))(new Mr):async f=>new Uint8Array(await new r(f).arrayBuffer())),p=i&&c&&Ir(()=>{let f=!1;const y=new r(X.origin,{body:new Ur,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!y}),u=a&&c&&Ir(()=>g.isReadableStream(new n("").body)),b={stream:u&&(f=>f.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!b[f]&&(b[f]=(y,m)=>{let S=y&&y[f];if(S)return S.call(y);throw new F(`Response type '${f}' is not supported`,F.ERR_NOT_SUPPORT,m)})});const C=async f=>{if(f==null)return 0;if(g.isBlob(f))return f.size;if(g.isSpecCompliantForm(f))return(await new r(X.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(g.isArrayBufferView(f)||g.isArrayBuffer(f))return f.byteLength;if(g.isURLSearchParams(f)&&(f=f+""),g.isString(f))return(await d(f)).byteLength},E=async(f,y)=>{const m=g.toFiniteNumber(f.getContentLength());return m??C(y)};return async f=>{let{url:y,method:m,data:S,signal:j,cancelToken:N,timeout:l,onDownloadProgress:x,onUploadProgress:v,responseType:O,headers:P,withCredentials:A="same-origin",fetchOptions:_}=Rs(f),I=t||fetch;O=O?(O+"").toLowerCase():"text";let $=Ko([j,N&&N.toAbortSignal()],l),U=null;const H=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let J;try{if(v&&p&&m!=="get"&&m!=="head"&&(J=await E(P,S))!==0){let V=new r(y,{method:"POST",body:S,duplex:"half"}),K;if(g.isFormData(S)&&(K=V.headers.get("content-type"))&&P.setContentType(K),V.body){const[ce,Q]=Pr(J,Rt(_r(v)));S=Br(V.body,$r,ce,Q)}}g.isString(A)||(A=A?"include":"omit");const T=i&&"credentials"in r.prototype,h={..._,signal:$,method:m.toUpperCase(),headers:P.normalize().toJSON(),body:S,duplex:"half",credentials:T?A:void 0};U=i&&new r(y,h);let L=await(i?I(U,_):I(y,h));const q=u&&(O==="stream"||O==="response");if(u&&(x||q&&H)){const V={};["status","statusText","headers"].forEach(ee=>{V[ee]=L[ee]});const K=g.toFiniteNumber(L.headers.get("content-length")),[ce,Q]=x&&Pr(K,Rt(_r(x),!0))||[];L=new n(Br(L.body,$r,ce,()=>{Q&&Q(),H&&H()}),V)}O=O||"text";let W=await b[g.findKey(b,O)||"text"](L,f);return!q&&H&&H(),await new Promise((V,K)=>{As(V,K,{data:W,headers:re.from(L.headers),status:L.status,statusText:L.statusText,config:f,request:U})})}catch(T){throw H&&H(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new F("Network Error",F.ERR_NETWORK,f,U),{cause:T.cause||T}):F.from(T,T&&T.code,f,U)}}},ei=new Map,ks=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:o}=t,i=[n,o,r];let a=i.length,c=a,d,p,u=ei;for(;c--;)d=i[c],p=u.get(d),p===void 0&&u.set(d,p=c?new Map:Qo(t)),u=p;return p};ks();const or={http:xo,xhr:Jo,fetch:{get:ks}};g.forEach(or,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const qr=e=>`- ${e}`,ti=e=>g.isFunction(e)||e===null||e===!1,Ds={getAdapter:(e,t)=>{e=g.isArray(e)?e:[e];const{length:r}=e;let n,o;const i={};for(let a=0;a<r;a++){n=e[a];let c;if(o=n,!ti(n)&&(o=or[(c=String(n)).toLowerCase()],o===void 0))throw new F(`Unknown adapter '${c}'`);if(o&&(g.isFunction(o)||(o=o.get(t))))break;i[c||"#"+a]=o}if(!o){const a=Object.entries(i).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=r?a.length>1?`since :
`+a.map(qr).join(`
`):" "+qr(a[0]):"as no adapter specified";throw new F("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return o},adapters:or};function Kt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Je(null,e)}function Hr(e){return Kt(e),e.headers=re.from(e.headers),e.data=Jt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ds.getAdapter(e.adapter||at.adapter,e)(e).then(function(n){return Kt(e),n.data=Jt.call(e,e.transformResponse,n),n.headers=re.from(n.headers),n},function(n){return Os(n)||(Kt(e),n&&n.response&&(n.response.data=Jt.call(e,e.transformResponse,n.response),n.response.headers=re.from(n.response.headers))),Promise.reject(n)})}const Fs="1.12.2",$t={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{$t[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const zr={};$t.transitional=function(t,r,n){function o(i,a){return"[Axios v"+Fs+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,c)=>{if(t===!1)throw new F(o(a," has been removed"+(r?" in "+r:"")),F.ERR_DEPRECATED);return r&&!zr[a]&&(zr[a]=!0,console.warn(o(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,c):!0}};$t.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function ri(e,t,r){if(typeof e!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],a=t[i];if(a){const c=e[i],d=c===void 0||a(c,i,e);if(d!==!0)throw new F("option "+i+" must be "+d,F.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new F("Unknown option "+i,F.ERR_BAD_OPTION)}}const Ot={assertOptions:ri,validators:$t},fe=Ot.validators;let Ae=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Dr,response:new Dr}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Re(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:i}=r;n!==void 0&&Ot.assertOptions(n,{silentJSONParsing:fe.transitional(fe.boolean),forcedJSONParsing:fe.transitional(fe.boolean),clarifyTimeoutError:fe.transitional(fe.boolean)},!1),o!=null&&(g.isFunction(o)?r.paramsSerializer={serialize:o}:Ot.assertOptions(o,{encode:fe.function,serialize:fe.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ot.assertOptions(r,{baseUrl:fe.spelling("baseURL"),withXsrfToken:fe.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&g.merge(i.common,i[r.method]);i&&g.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),r.headers=re.concat(a,i);const c=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(d=d&&y.synchronous,c.unshift(y.fulfilled,y.rejected))});const p=[];this.interceptors.response.forEach(function(y){p.push(y.fulfilled,y.rejected)});let u,b=0,C;if(!d){const f=[Hr.bind(this),void 0];for(f.unshift(...c),f.push(...p),C=f.length,u=Promise.resolve(r);b<C;)u=u.then(f[b++],f[b++]);return u}C=c.length;let E=r;for(;b<C;){const f=c[b++],y=c[b++];try{E=f(E)}catch(m){y.call(this,m);break}}try{u=Hr.call(this,E)}catch(f){return Promise.reject(f)}for(b=0,C=p.length;b<C;)u=u.then(p[b++],p[b++]);return u}getUri(t){t=Re(this.defaults,t);const r=Ts(t.baseURL,t.url,t.allowAbsoluteUrls);return Es(r,t.params,t.paramsSerializer)}};g.forEach(["delete","get","head","options"],function(t){Ae.prototype[t]=function(r,n){return this.request(Re(n||{},{method:t,url:r,data:(n||{}).data}))}});g.forEach(["post","put","patch"],function(t){function r(n){return function(i,a,c){return this.request(Re(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Ae.prototype[t]=r(),Ae.prototype[t+"Form"]=r(!0)});let si=class Ps{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(c=>{n.subscribe(c),i=c}).then(o);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,c){n.reason||(n.reason=new Je(i,a,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Ps(function(o){t=o}),cancel:t}}};function ni(e){return function(r){return e.apply(null,r)}}function oi(e){return g.isObject(e)&&e.isAxiosError===!0}const ir={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ir).forEach(([e,t])=>{ir[t]=e});function _s(e){const t=new Ae(e),r=ps(Ae.prototype.request,t);return g.extend(r,Ae.prototype,t,{allOwnKeys:!0}),g.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return _s(Re(e,o))},r}const z=_s(at);z.Axios=Ae;z.CanceledError=Je;z.CancelToken=si;z.isCancel=Os;z.VERSION=Fs;z.toFormData=Bt;z.AxiosError=F;z.Cancel=z.CanceledError;z.all=function(t){return Promise.all(t)};z.spread=ni;z.isAxiosError=oi;z.mergeConfig=Re;z.AxiosHeaders=re;z.formToJSON=e=>Ss(g.isHTMLForm(e)?new FormData(e):e);z.getAdapter=Ds.getAdapter;z.HttpStatusCode=ir;z.default=z;const{Axios:il,AxiosError:al,CanceledError:ll,isCancel:cl,CancelToken:dl,VERSION:ul,all:pl,Cancel:fl,isAxiosError:ml,spread:hl,toFormData:gl,AxiosHeaders:xl,HttpStatusCode:yl,formToJSON:bl,getAdapter:vl,mergeConfig:wl}=z;var Ls={exports:{}},Y="top",se="bottom",ne="right",Z="left",Ut="auto",Ke=[Y,se,ne,Z],ke="start",Ie="end",Bs="clippingParents",gr="viewport",$e="popper",$s="reference",ar=Ke.reduce(function(e,t){return e.concat([t+"-"+ke,t+"-"+Ie])},[]),xr=[].concat(Ke,[Ut]).reduce(function(e,t){return e.concat([t,t+"-"+ke,t+"-"+Ie])},[]),Us="beforeRead",Ms="read",Is="afterRead",qs="beforeMain",Hs="main",zs="afterMain",Vs="beforeWrite",Ws="write",Js="afterWrite",Ks=[Us,Ms,Is,qs,Hs,zs,Vs,Ws,Js];function ge(e){return e?(e.nodeName||"").toLowerCase():null}function oe(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function De(e){var t=oe(e).Element;return e instanceof t||e instanceof Element}function le(e){var t=oe(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function yr(e){if(typeof ShadowRoot>"u")return!1;var t=oe(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ii(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},o=t.attributes[r]||{},i=t.elements[r];!le(i)||!ge(i)||(Object.assign(i.style,n),Object.keys(o).forEach(function(a){var c=o[a];c===!1?i.removeAttribute(a):i.setAttribute(a,c===!0?"":c)}))})}function ai(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var o=t.elements[n],i=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),c=a.reduce(function(d,p){return d[p]="",d},{});!le(o)||!ge(o)||(Object.assign(o.style,c),Object.keys(i).forEach(function(d){o.removeAttribute(d)}))})}}const Mt={name:"applyStyles",enabled:!0,phase:"write",fn:ii,effect:ai,requires:["computeStyles"]};function he(e){return e.split("-")[0]}var Te=Math.max,kt=Math.min,qe=Math.round;function lr(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Xs(){return!/^((?!chrome|android).)*safari/i.test(lr())}function He(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),o=1,i=1;t&&le(e)&&(o=e.offsetWidth>0&&qe(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&qe(n.height)/e.offsetHeight||1);var a=De(e)?oe(e):window,c=a.visualViewport,d=!Xs()&&r,p=(n.left+(d&&c?c.offsetLeft:0))/o,u=(n.top+(d&&c?c.offsetTop:0))/i,b=n.width/o,C=n.height/i;return{width:b,height:C,top:u,right:p+b,bottom:u+C,left:p,x:p,y:u}}function br(e){var t=He(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Gs(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&yr(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ve(e){return oe(e).getComputedStyle(e)}function li(e){return["table","td","th"].indexOf(ge(e))>=0}function Ne(e){return((De(e)?e.ownerDocument:e.document)||window.document).documentElement}function It(e){return ge(e)==="html"?e:e.assignedSlot||e.parentNode||(yr(e)?e.host:null)||Ne(e)}function Vr(e){return!le(e)||ve(e).position==="fixed"?null:e.offsetParent}function ci(e){var t=/firefox/i.test(lr()),r=/Trident/i.test(lr());if(r&&le(e)){var n=ve(e);if(n.position==="fixed")return null}var o=It(e);for(yr(o)&&(o=o.host);le(o)&&["html","body"].indexOf(ge(o))<0;){var i=ve(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function lt(e){for(var t=oe(e),r=Vr(e);r&&li(r)&&ve(r).position==="static";)r=Vr(r);return r&&(ge(r)==="html"||ge(r)==="body"&&ve(r).position==="static")?t:r||ci(e)||t}function vr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function tt(e,t,r){return Te(e,kt(t,r))}function di(e,t,r){var n=tt(e,t,r);return n>r?r:n}function Ys(){return{top:0,right:0,bottom:0,left:0}}function Zs(e){return Object.assign({},Ys(),e)}function Qs(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var ui=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Zs(typeof t!="number"?t:Qs(t,Ke))};function pi(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,c=he(r.placement),d=vr(c),p=[Z,ne].indexOf(c)>=0,u=p?"height":"width";if(!(!i||!a)){var b=ui(o.padding,r),C=br(i),E=d==="y"?Y:Z,f=d==="y"?se:ne,y=r.rects.reference[u]+r.rects.reference[d]-a[d]-r.rects.popper[u],m=a[d]-r.rects.reference[d],S=lt(i),j=S?d==="y"?S.clientHeight||0:S.clientWidth||0:0,N=y/2-m/2,l=b[E],x=j-C[u]-b[f],v=j/2-C[u]/2+N,O=tt(l,v,x),P=d;r.modifiersData[n]=(t={},t[P]=O,t.centerOffset=O-v,t)}}function fi(e){var t=e.state,r=e.options,n=r.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Gs(t.elements.popper,o)&&(t.elements.arrow=o))}const en={name:"arrow",enabled:!0,phase:"main",fn:pi,effect:fi,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ze(e){return e.split("-")[1]}var mi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hi(e,t){var r=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:qe(r*o)/o||0,y:qe(n*o)/o||0}}function Wr(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,c=e.position,d=e.gpuAcceleration,p=e.adaptive,u=e.roundOffsets,b=e.isFixed,C=a.x,E=C===void 0?0:C,f=a.y,y=f===void 0?0:f,m=typeof u=="function"?u({x:E,y}):{x:E,y};E=m.x,y=m.y;var S=a.hasOwnProperty("x"),j=a.hasOwnProperty("y"),N=Z,l=Y,x=window;if(p){var v=lt(r),O="clientHeight",P="clientWidth";if(v===oe(r)&&(v=Ne(r),ve(v).position!=="static"&&c==="absolute"&&(O="scrollHeight",P="scrollWidth")),v=v,o===Y||(o===Z||o===ne)&&i===Ie){l=se;var A=b&&v===x&&x.visualViewport?x.visualViewport.height:v[O];y-=A-n.height,y*=d?1:-1}if(o===Z||(o===Y||o===se)&&i===Ie){N=ne;var _=b&&v===x&&x.visualViewport?x.visualViewport.width:v[P];E-=_-n.width,E*=d?1:-1}}var I=Object.assign({position:c},p&&mi),$=u===!0?hi({x:E,y},oe(r)):{x:E,y};if(E=$.x,y=$.y,d){var U;return Object.assign({},I,(U={},U[l]=j?"0":"",U[N]=S?"0":"",U.transform=(x.devicePixelRatio||1)<=1?"translate("+E+"px, "+y+"px)":"translate3d("+E+"px, "+y+"px, 0)",U))}return Object.assign({},I,(t={},t[l]=j?y+"px":"",t[N]=S?E+"px":"",t.transform="",t))}function gi(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=n===void 0?!0:n,i=r.adaptive,a=i===void 0?!0:i,c=r.roundOffsets,d=c===void 0?!0:c,p={placement:he(t.placement),variation:ze(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Wr(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Wr(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const wr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gi,data:{}};var jt={passive:!0};function xi(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=o===void 0?!0:o,a=n.resize,c=a===void 0?!0:a,d=oe(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&p.forEach(function(u){u.addEventListener("scroll",r.update,jt)}),c&&d.addEventListener("resize",r.update,jt),function(){i&&p.forEach(function(u){u.removeEventListener("scroll",r.update,jt)}),c&&d.removeEventListener("resize",r.update,jt)}}const jr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xi,data:{}};var yi={left:"right",right:"left",bottom:"top",top:"bottom"};function At(e){return e.replace(/left|right|bottom|top/g,function(t){return yi[t]})}var bi={start:"end",end:"start"};function Jr(e){return e.replace(/start|end/g,function(t){return bi[t]})}function Nr(e){var t=oe(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Er(e){return He(Ne(e)).left+Nr(e).scrollLeft}function vi(e,t){var r=oe(e),n=Ne(e),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,c=0,d=0;if(o){i=o.width,a=o.height;var p=Xs();(p||!p&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:i,height:a,x:c+Er(e),y:d}}function wi(e){var t,r=Ne(e),n=Nr(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=Te(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Te(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-n.scrollLeft+Er(e),d=-n.scrollTop;return ve(o||r).direction==="rtl"&&(c+=Te(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:c,y:d}}function Cr(e){var t=ve(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function tn(e){return["html","body","#document"].indexOf(ge(e))>=0?e.ownerDocument.body:le(e)&&Cr(e)?e:tn(It(e))}function rt(e,t){var r;t===void 0&&(t=[]);var n=tn(e),o=n===((r=e.ownerDocument)==null?void 0:r.body),i=oe(n),a=o?[i].concat(i.visualViewport||[],Cr(n)?n:[]):n,c=t.concat(a);return o?c:c.concat(rt(It(a)))}function cr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ji(e,t){var r=He(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Kr(e,t,r){return t===gr?cr(vi(e,r)):De(t)?ji(t,r):cr(wi(Ne(e)))}function Ni(e){var t=rt(It(e)),r=["absolute","fixed"].indexOf(ve(e).position)>=0,n=r&&le(e)?lt(e):e;return De(n)?t.filter(function(o){return De(o)&&Gs(o,n)&&ge(o)!=="body"}):[]}function Ei(e,t,r,n){var o=t==="clippingParents"?Ni(e):[].concat(t),i=[].concat(o,[r]),a=i[0],c=i.reduce(function(d,p){var u=Kr(e,p,n);return d.top=Te(u.top,d.top),d.right=kt(u.right,d.right),d.bottom=kt(u.bottom,d.bottom),d.left=Te(u.left,d.left),d},Kr(e,a,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function rn(e){var t=e.reference,r=e.element,n=e.placement,o=n?he(n):null,i=n?ze(n):null,a=t.x+t.width/2-r.width/2,c=t.y+t.height/2-r.height/2,d;switch(o){case Y:d={x:a,y:t.y-r.height};break;case se:d={x:a,y:t.y+t.height};break;case ne:d={x:t.x+t.width,y:c};break;case Z:d={x:t.x-r.width,y:c};break;default:d={x:t.x,y:t.y}}var p=o?vr(o):null;if(p!=null){var u=p==="y"?"height":"width";switch(i){case ke:d[p]=d[p]-(t[u]/2-r[u]/2);break;case Ie:d[p]=d[p]+(t[u]/2-r[u]/2);break}}return d}function Ve(e,t){t===void 0&&(t={});var r=t,n=r.placement,o=n===void 0?e.placement:n,i=r.strategy,a=i===void 0?e.strategy:i,c=r.boundary,d=c===void 0?Bs:c,p=r.rootBoundary,u=p===void 0?gr:p,b=r.elementContext,C=b===void 0?$e:b,E=r.altBoundary,f=E===void 0?!1:E,y=r.padding,m=y===void 0?0:y,S=Zs(typeof m!="number"?m:Qs(m,Ke)),j=C===$e?$s:$e,N=e.rects.popper,l=e.elements[f?j:C],x=Ei(De(l)?l:l.contextElement||Ne(e.elements.popper),d,u,a),v=He(e.elements.reference),O=rn({reference:v,element:N,placement:o}),P=cr(Object.assign({},N,O)),A=C===$e?P:v,_={top:x.top-A.top+S.top,bottom:A.bottom-x.bottom+S.bottom,left:x.left-A.left+S.left,right:A.right-x.right+S.right},I=e.modifiersData.offset;if(C===$e&&I){var $=I[o];Object.keys(_).forEach(function(U){var H=[ne,se].indexOf(U)>=0?1:-1,J=[Y,se].indexOf(U)>=0?"y":"x";_[U]+=$[J]*H})}return _}function Ci(e,t){t===void 0&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,a=r.padding,c=r.flipVariations,d=r.allowedAutoPlacements,p=d===void 0?xr:d,u=ze(n),b=u?c?ar:ar.filter(function(f){return ze(f)===u}):Ke,C=b.filter(function(f){return p.indexOf(f)>=0});C.length===0&&(C=b);var E=C.reduce(function(f,y){return f[y]=Ve(e,{placement:y,boundary:o,rootBoundary:i,padding:a})[he(y)],f},{});return Object.keys(E).sort(function(f,y){return E[f]-E[y]})}function Si(e){if(he(e)===Ut)return[];var t=At(e);return[Jr(e),t,Jr(t)]}function Oi(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=o===void 0?!0:o,a=r.altAxis,c=a===void 0?!0:a,d=r.fallbackPlacements,p=r.padding,u=r.boundary,b=r.rootBoundary,C=r.altBoundary,E=r.flipVariations,f=E===void 0?!0:E,y=r.allowedAutoPlacements,m=t.options.placement,S=he(m),j=S===m,N=d||(j||!f?[At(m)]:Si(m)),l=[m].concat(N).reduce(function(Q,ee){return Q.concat(he(ee)===Ut?Ci(t,{placement:ee,boundary:u,rootBoundary:b,padding:p,flipVariations:f,allowedAutoPlacements:y}):ee)},[]),x=t.rects.reference,v=t.rects.popper,O=new Map,P=!0,A=l[0],_=0;_<l.length;_++){var I=l[_],$=he(I),U=ze(I)===ke,H=[Y,se].indexOf($)>=0,J=H?"width":"height",T=Ve(t,{placement:I,boundary:u,rootBoundary:b,altBoundary:C,padding:p}),h=H?U?ne:Z:U?se:Y;x[J]>v[J]&&(h=At(h));var L=At(h),q=[];if(i&&q.push(T[$]<=0),c&&q.push(T[h]<=0,T[L]<=0),q.every(function(Q){return Q})){A=I,P=!1;break}O.set(I,q)}if(P)for(var W=f?3:1,V=function(ee){var xe=l.find(function(Fe){var ye=O.get(Fe);if(ye)return ye.slice(0,ee).every(function(Pe){return Pe})});if(xe)return A=xe,"break"},K=W;K>0;K--){var ce=V(K);if(ce==="break")break}t.placement!==A&&(t.modifiersData[n]._skip=!0,t.placement=A,t.reset=!0)}}const sn={name:"flip",enabled:!0,phase:"main",fn:Oi,requiresIfExists:["offset"],data:{_skip:!1}};function Xr(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Gr(e){return[Y,ne,se,Z].some(function(t){return e[t]>=0})}function Ai(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Ve(t,{elementContext:"reference"}),c=Ve(t,{altBoundary:!0}),d=Xr(a,n),p=Xr(c,o,i),u=Gr(d),b=Gr(p);t.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:u,hasPopperEscaped:b},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":b})}const nn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ai};function Ti(e,t,r){var n=he(e),o=[Z,Y].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,a=i[0],c=i[1];return a=a||0,c=(c||0)*o,[Z,ne].indexOf(n)>=0?{x:c,y:a}:{x:a,y:c}}function Ri(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=o===void 0?[0,0]:o,a=xr.reduce(function(u,b){return u[b]=Ti(b,t.rects,i),u},{}),c=a[t.placement],d=c.x,p=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=p),t.modifiersData[n]=a}const on={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ri};function ki(e){var t=e.state,r=e.name;t.modifiersData[r]=rn({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Sr={name:"popperOffsets",enabled:!0,phase:"read",fn:ki,data:{}};function Di(e){return e==="x"?"y":"x"}function Fi(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=o===void 0?!0:o,a=r.altAxis,c=a===void 0?!1:a,d=r.boundary,p=r.rootBoundary,u=r.altBoundary,b=r.padding,C=r.tether,E=C===void 0?!0:C,f=r.tetherOffset,y=f===void 0?0:f,m=Ve(t,{boundary:d,rootBoundary:p,padding:b,altBoundary:u}),S=he(t.placement),j=ze(t.placement),N=!j,l=vr(S),x=Di(l),v=t.modifiersData.popperOffsets,O=t.rects.reference,P=t.rects.popper,A=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,_=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(v){if(i){var U,H=l==="y"?Y:Z,J=l==="y"?se:ne,T=l==="y"?"height":"width",h=v[l],L=h+m[H],q=h-m[J],W=E?-P[T]/2:0,V=j===ke?O[T]:P[T],K=j===ke?-P[T]:-O[T],ce=t.elements.arrow,Q=E&&ce?br(ce):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ys(),xe=ee[H],Fe=ee[J],ye=tt(0,O[T],Q[T]),Pe=N?O[T]/2-W-ye-xe-_.mainAxis:V-ye-xe-_.mainAxis,we=N?-O[T]/2+W+ye+Fe+_.mainAxis:K+ye+Fe+_.mainAxis,_e=t.elements.arrow&&lt(t.elements.arrow),dt=_e?l==="y"?_e.clientTop||0:_e.clientLeft||0:0,Xe=(U=I==null?void 0:I[l])!=null?U:0,ut=h+Pe-Xe-dt,pt=h+we-Xe,Ge=tt(E?kt(L,ut):L,h,E?Te(q,pt):q);v[l]=Ge,$[l]=Ge-h}if(c){var Ye,ft=l==="x"?Y:Z,mt=l==="x"?se:ne,be=v[x],je=x==="y"?"height":"width",Ze=be+m[ft],Ee=be-m[mt],Qe=[Y,Z].indexOf(S)!==-1,ht=(Ye=I==null?void 0:I[x])!=null?Ye:0,gt=Qe?Ze:be-O[je]-P[je]-ht+_.altAxis,xt=Qe?be+O[je]+P[je]-ht-_.altAxis:Ee,yt=E&&Qe?di(gt,be,xt):tt(E?gt:Ze,be,E?xt:Ee);v[x]=yt,$[x]=yt-be}t.modifiersData[n]=$}}const an={name:"preventOverflow",enabled:!0,phase:"main",fn:Fi,requiresIfExists:["offset"]};function Pi(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function _i(e){return e===oe(e)||!le(e)?Nr(e):Pi(e)}function Li(e){var t=e.getBoundingClientRect(),r=qe(t.width)/e.offsetWidth||1,n=qe(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Bi(e,t,r){r===void 0&&(r=!1);var n=le(t),o=le(t)&&Li(t),i=Ne(t),a=He(e,o,r),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(n||!n&&!r)&&((ge(t)!=="body"||Cr(i))&&(c=_i(t)),le(t)?(d=He(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=Er(i))),{x:a.left+c.scrollLeft-d.x,y:a.top+c.scrollTop-d.y,width:a.width,height:a.height}}function $i(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function o(i){r.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(c){if(!r.has(c)){var d=t.get(c);d&&o(d)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||o(i)}),n}function Ui(e){var t=$i(e);return Ks.reduce(function(r,n){return r.concat(t.filter(function(o){return o.phase===n}))},[])}function Mi(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Ii(e){var t=e.reduce(function(r,n){var o=r[n.name];return r[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Yr={placement:"bottom",modifiers:[],strategy:"absolute"};function Zr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function qt(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,o=t.defaultOptions,i=o===void 0?Yr:o;return function(c,d,p){p===void 0&&(p=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Yr,i),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},b=[],C=!1,E={state:u,setOptions:function(S){var j=typeof S=="function"?S(u.options):S;y(),u.options=Object.assign({},i,u.options,j),u.scrollParents={reference:De(c)?rt(c):c.contextElement?rt(c.contextElement):[],popper:rt(d)};var N=Ui(Ii([].concat(n,u.options.modifiers)));return u.orderedModifiers=N.filter(function(l){return l.enabled}),f(),E.update()},forceUpdate:function(){if(!C){var S=u.elements,j=S.reference,N=S.popper;if(Zr(j,N)){u.rects={reference:Bi(j,lt(N),u.options.strategy==="fixed"),popper:br(N)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(_){return u.modifiersData[_.name]=Object.assign({},_.data)});for(var l=0;l<u.orderedModifiers.length;l++){if(u.reset===!0){u.reset=!1,l=-1;continue}var x=u.orderedModifiers[l],v=x.fn,O=x.options,P=O===void 0?{}:O,A=x.name;typeof v=="function"&&(u=v({state:u,options:P,name:A,instance:E})||u)}}}},update:Mi(function(){return new Promise(function(m){E.forceUpdate(),m(u)})}),destroy:function(){y(),C=!0}};if(!Zr(c,d))return E;E.setOptions(p).then(function(m){!C&&p.onFirstUpdate&&p.onFirstUpdate(m)});function f(){u.orderedModifiers.forEach(function(m){var S=m.name,j=m.options,N=j===void 0?{}:j,l=m.effect;if(typeof l=="function"){var x=l({state:u,name:S,instance:E,options:N}),v=function(){};b.push(x||v)}})}function y(){b.forEach(function(m){return m()}),b=[]}return E}}var qi=qt(),Hi=[jr,Sr,wr,Mt],zi=qt({defaultModifiers:Hi}),Vi=[jr,Sr,wr,Mt,on,sn,an,en,nn],ln=qt({defaultModifiers:Vi});const Wi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:zs,afterRead:Is,afterWrite:Js,applyStyles:Mt,arrow:en,auto:Ut,basePlacements:Ke,beforeMain:qs,beforeRead:Us,beforeWrite:Vs,bottom:se,clippingParents:Bs,computeStyles:wr,createPopper:ln,createPopperBase:qi,createPopperLite:zi,detectOverflow:Ve,end:Ie,eventListeners:jr,flip:sn,hide:nn,left:Z,main:Hs,modifierPhases:Ks,offset:on,placements:xr,popper:$e,popperGenerator:qt,popperOffsets:Sr,preventOverflow:an,read:Ms,reference:$s,right:ne,start:ke,top:Y,variationPlacements:ar,viewport:gr,write:Ws},Symbol.toStringTag,{value:"Module"})),Ji=An(Wi);(function(e,t){(function(n,o){e.exports=o(Ji)})(Tn,function(r){return function(n){var o={};function i(a){if(o[a])return o[a].exports;var c=o[a]={i:a,l:!1,exports:{}};return n[a].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=n,i.c=o,i.i=function(a){return a},i.d=function(a,c,d){i.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},i.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(c,"a",c),c},i.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},i.p="",i(i.s=7)}([function(n,o,i){n.exports=Object.assign!=null?Object.assign.bind(Object):function(a){for(var c=arguments.length,d=Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];return d.forEach(function(u){u!=null&&Object.keys(u).forEach(function(b){return a[b]=u[b]})}),a}},function(n,o,i){var a=i(5),c=a.getBoundingBox;function d(p,u){var b={getBoundingClientRect:function(){return c(p,u)}};return b}n.exports={getRef:d}},function(n,o,i){var a=i(0),c=i(1),d=c.getRef,p=i(6),u=p.getContent,b={},C=i(8),E=C.createPopper;function f(y,m){var S=d(y,m),j=u(y,m.content),N=a({},b,m.popper);return E(S,j,N)}n.exports={getPopper:f}},function(n,o,i){var a=i(0),c=i(2),d=c.getPopper,p=i(1),u=p.getRef;function b(S){return m(this),d(this[0],E(this[0],S))}function C(S){return m(this),u(this[0],E(this[0],S))}function E(S,j){var N=function(A){return A.isNode()?{w:A.renderedWidth(),h:A.renderedHeight()}:{w:3,h:3}},l=function(A){return A.isNode()?f(A,N):y(A)},x={},v=S.cy(),O={renderedDimensions:N,renderedPosition:l,popper:x,cy:v};return a({},O,j)}function f(S,j){var N=S.renderedPosition(),l=j(S),x=l.w/2,v=l.h/2;return{x:N.x-x,y:N.y-v}}function y(S){var j=S.midpoint(),N=S.cy().pan(),l=S.cy().zoom();return{x:j.x*l+N.x,y:j.y*l+N.y}}function m(S){S.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}n.exports={popper:b,popperRef:C}},function(n,o,i){var a=i(0),c=i(2),d=c.getPopper,p=i(1),u=p.getRef;function b(f){return d(this,E(this,f))}function C(f){return u(this,E(this,f))}function E(f,y){var m={boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:f};return a({},m,y)}n.exports={popper:b,popperRef:C}},function(n,o,i){function a(c,d){var p=d.renderedPosition,u=d.cy,b=d.renderedDimensions,C=u.container().getBoundingClientRect(),E=b(c),f=p(c);return{top:f.y+C.top,left:f.x+C.left,right:f.x+E.w+C.left,bottom:f.y+E.h+C.top,width:E.w,height:E.h}}n.exports={getBoundingBox:a}},function(n,o,i){function a(c,d){var p=null;if(typeof d=="function")p=d(c);else{if(d instanceof HTMLElement)return d;throw new Error("Can not create popper from 'target' with unknown type")}if(p===null)throw new Error("No 'target' specified to create popper");return p}n.exports={getContent:a}},function(n,o,i){var a=i(4),c=i(3),d=function(u){u&&(u("core","popper",a.popper),u("collection","popper",c.popper),u("core","popperRef",a.popperRef),u("collection","popperRef",c.popperRef))};typeof cytoscape<"u"&&d(cytoscape),n.exports=d},function(n,o){n.exports=r}])})})(Ls);var Ki=Ls.exports;const Xi=us(Ki);var Gi="tippy-box",cn="tippy-content",Yi="tippy-backdrop",dn="tippy-arrow",un="tippy-svg-arrow",Se={passive:!0,capture:!0},pn=function(){return document.body};function Xt(e,t,r){if(Array.isArray(e)){var n=e[t];return n??(Array.isArray(r)?r[t]:r)}return e}function Or(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function fn(e,t){return typeof e=="function"?e.apply(void 0,t):e}function Qr(e,t){if(t===0)return e;var r;return function(n){clearTimeout(r),r=setTimeout(function(){e(n)},t)}}function Zi(e){return e.split(/\s+/).filter(Boolean)}function Ue(e){return[].concat(e)}function es(e,t){e.indexOf(t)===-1&&e.push(t)}function Qi(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function ea(e){return e.split("-")[0]}function Dt(e){return[].slice.call(e)}function ts(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function st(){return document.createElement("div")}function Ht(e){return["Element","Fragment"].some(function(t){return Or(e,t)})}function ta(e){return Or(e,"NodeList")}function ra(e){return Or(e,"MouseEvent")}function sa(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function na(e){return Ht(e)?[e]:ta(e)?Dt(e):Array.isArray(e)?e:Dt(document.querySelectorAll(e))}function Gt(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function rs(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function oa(e){var t,r=Ue(e),n=r[0];return n!=null&&(t=n.ownerDocument)!=null&&t.body?n.ownerDocument:document}function ia(e,t){var r=t.clientX,n=t.clientY;return e.every(function(o){var i=o.popperRect,a=o.popperState,c=o.props,d=c.interactiveBorder,p=ea(a.placement),u=a.modifiersData.offset;if(!u)return!0;var b=p==="bottom"?u.top.y:0,C=p==="top"?u.bottom.y:0,E=p==="right"?u.left.x:0,f=p==="left"?u.right.x:0,y=i.top-n+b>d,m=n-i.bottom-C>d,S=i.left-r+E>d,j=r-i.right-f>d;return y||m||S||j})}function Yt(e,t,r){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){e[n](o,r)})}function ss(e,t){for(var r=t;r;){var n;if(e.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var me={isTouch:!1},ns=0;function aa(){me.isTouch||(me.isTouch=!0,window.performance&&document.addEventListener("mousemove",mn))}function mn(){var e=performance.now();e-ns<20&&(me.isTouch=!1,document.removeEventListener("mousemove",mn)),ns=e}function la(){var e=document.activeElement;if(sa(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function ca(){document.addEventListener("touchstart",aa,Se),window.addEventListener("blur",la)}var da=typeof window<"u"&&typeof document<"u",ua=da?!!window.msCrypto:!1,pa={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},fa={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ue=Object.assign({appendTo:pn,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},pa,fa),ma=Object.keys(ue),ha=function(t){var r=Object.keys(t);r.forEach(function(n){ue[n]=t[n]})};function hn(e){var t=e.plugins||[],r=t.reduce(function(n,o){var i=o.name,a=o.defaultValue;if(i){var c;n[i]=e[i]!==void 0?e[i]:(c=ue[i])!=null?c:a}return n},{});return Object.assign({},e,r)}function ga(e,t){var r=t?Object.keys(hn(Object.assign({},ue,{plugins:t}))):ma,n=r.reduce(function(o,i){var a=(e.getAttribute("data-tippy-"+i)||"").trim();if(!a)return o;if(i==="content")o[i]=a;else try{o[i]=JSON.parse(a)}catch{o[i]=a}return o},{});return n}function os(e,t){var r=Object.assign({},t,{content:fn(t.content,[e])},t.ignoreAttributes?{}:ga(e,t.plugins));return r.aria=Object.assign({},ue.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var xa=function(){return"innerHTML"};function dr(e,t){e[xa()]=t}function is(e){var t=st();return e===!0?t.className=dn:(t.className=un,Ht(e)?t.appendChild(e):dr(t,e)),t}function as(e,t){Ht(t.content)?(dr(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?dr(e,t.content):e.textContent=t.content)}function ur(e){var t=e.firstElementChild,r=Dt(t.children);return{box:t,content:r.find(function(n){return n.classList.contains(cn)}),arrow:r.find(function(n){return n.classList.contains(dn)||n.classList.contains(un)}),backdrop:r.find(function(n){return n.classList.contains(Yi)})}}function gn(e){var t=st(),r=st();r.className=Gi,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=st();n.className=cn,n.setAttribute("data-state","hidden"),as(n,e.props),t.appendChild(r),r.appendChild(n),o(e.props,e.props);function o(i,a){var c=ur(t),d=c.box,p=c.content,u=c.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(i.content!==a.content||i.allowHTML!==a.allowHTML)&&as(p,e.props),a.arrow?u?i.arrow!==a.arrow&&(d.removeChild(u),d.appendChild(is(a.arrow))):d.appendChild(is(a.arrow)):u&&d.removeChild(u)}return{popper:t,onUpdate:o}}gn.$$tippy=!0;var ya=1,Nt=[],Zt=[];function ba(e,t){var r=os(e,Object.assign({},ue,hn(ts(t)))),n,o,i,a=!1,c=!1,d=!1,p=!1,u,b,C,E=[],f=Qr(ut,r.interactiveDebounce),y,m=ya++,S=null,j=Qi(r.plugins),N={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},l={id:m,reference:e,popper:st(),popperInstance:S,props:r,state:N,plugins:j,clearDelayTimeouts:gt,setProps:xt,setContent:yt,show:jn,hide:Nn,hideWithInteractivity:En,enable:Qe,disable:ht,unmount:Cn,destroy:Sn};if(!r.render)return l;var x=r.render(l),v=x.popper,O=x.onUpdate;v.setAttribute("data-tippy-root",""),v.id="tippy-"+l.id,l.popper=v,e._tippy=l,v._tippy=l;var P=j.map(function(w){return w.fn(l)}),A=e.hasAttribute("aria-expanded");return _e(),W(),h(),L("onCreate",[l]),r.showOnCreate&&Ze(),v.addEventListener("mouseenter",function(){l.props.interactive&&l.state.isVisible&&l.clearDelayTimeouts()}),v.addEventListener("mouseleave",function(){l.props.interactive&&l.props.trigger.indexOf("mouseenter")>=0&&H().addEventListener("mousemove",f)}),l;function _(){var w=l.props.touch;return Array.isArray(w)?w:[w,0]}function I(){return _()[0]==="hold"}function $(){var w;return!!((w=l.props.render)!=null&&w.$$tippy)}function U(){return y||e}function H(){var w=U().parentNode;return w?oa(w):document}function J(){return ur(v)}function T(w){return l.state.isMounted&&!l.state.isVisible||me.isTouch||u&&u.type==="focus"?0:Xt(l.props.delay,w?0:1,ue.delay)}function h(w){w===void 0&&(w=!1),v.style.pointerEvents=l.props.interactive&&!w?"":"none",v.style.zIndex=""+l.props.zIndex}function L(w,R,k){if(k===void 0&&(k=!0),P.forEach(function(B){B[w]&&B[w].apply(B,R)}),k){var M;(M=l.props)[w].apply(M,R)}}function q(){var w=l.props.aria;if(w.content){var R="aria-"+w.content,k=v.id,M=Ue(l.props.triggerTarget||e);M.forEach(function(B){var G=B.getAttribute(R);if(l.state.isVisible)B.setAttribute(R,G?G+" "+k:k);else{var ae=G&&G.replace(k,"").trim();ae?B.setAttribute(R,ae):B.removeAttribute(R)}})}}function W(){if(!(A||!l.props.aria.expanded)){var w=Ue(l.props.triggerTarget||e);w.forEach(function(R){l.props.interactive?R.setAttribute("aria-expanded",l.state.isVisible&&R===U()?"true":"false"):R.removeAttribute("aria-expanded")})}}function V(){H().removeEventListener("mousemove",f),Nt=Nt.filter(function(w){return w!==f})}function K(w){if(!(me.isTouch&&(d||w.type==="mousedown"))){var R=w.composedPath&&w.composedPath()[0]||w.target;if(!(l.props.interactive&&ss(v,R))){if(Ue(l.props.triggerTarget||e).some(function(k){return ss(k,R)})){if(me.isTouch||l.state.isVisible&&l.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[l,w]);l.props.hideOnClick===!0&&(l.clearDelayTimeouts(),l.hide(),c=!0,setTimeout(function(){c=!1}),l.state.isMounted||xe())}}}function ce(){d=!0}function Q(){d=!1}function ee(){var w=H();w.addEventListener("mousedown",K,!0),w.addEventListener("touchend",K,Se),w.addEventListener("touchstart",Q,Se),w.addEventListener("touchmove",ce,Se)}function xe(){var w=H();w.removeEventListener("mousedown",K,!0),w.removeEventListener("touchend",K,Se),w.removeEventListener("touchstart",Q,Se),w.removeEventListener("touchmove",ce,Se)}function Fe(w,R){Pe(w,function(){!l.state.isVisible&&v.parentNode&&v.parentNode.contains(v)&&R()})}function ye(w,R){Pe(w,R)}function Pe(w,R){var k=J().box;function M(B){B.target===k&&(Yt(k,"remove",M),R())}if(w===0)return R();Yt(k,"remove",b),Yt(k,"add",M),b=M}function we(w,R,k){k===void 0&&(k=!1);var M=Ue(l.props.triggerTarget||e);M.forEach(function(B){B.addEventListener(w,R,k),E.push({node:B,eventType:w,handler:R,options:k})})}function _e(){I()&&(we("touchstart",Xe,{passive:!0}),we("touchend",pt,{passive:!0})),Zi(l.props.trigger).forEach(function(w){if(w!=="manual")switch(we(w,Xe),w){case"mouseenter":we("mouseleave",pt);break;case"focus":we(ua?"focusout":"blur",Ge);break;case"focusin":we("focusout",Ge);break}})}function dt(){E.forEach(function(w){var R=w.node,k=w.eventType,M=w.handler,B=w.options;R.removeEventListener(k,M,B)}),E=[]}function Xe(w){var R,k=!1;if(!(!l.state.isEnabled||Ye(w)||c)){var M=((R=u)==null?void 0:R.type)==="focus";u=w,y=w.currentTarget,W(),!l.state.isVisible&&ra(w)&&Nt.forEach(function(B){return B(w)}),w.type==="click"&&(l.props.trigger.indexOf("mouseenter")<0||a)&&l.props.hideOnClick!==!1&&l.state.isVisible?k=!0:Ze(w),w.type==="click"&&(a=!k),k&&!M&&Ee(w)}}function ut(w){var R=w.target,k=U().contains(R)||v.contains(R);if(!(w.type==="mousemove"&&k)){var M=je().concat(v).map(function(B){var G,ae=B._tippy,Le=(G=ae.popperInstance)==null?void 0:G.state;return Le?{popperRect:B.getBoundingClientRect(),popperState:Le,props:r}:null}).filter(Boolean);ia(M,w)&&(V(),Ee(w))}}function pt(w){var R=Ye(w)||l.props.trigger.indexOf("click")>=0&&a;if(!R){if(l.props.interactive){l.hideWithInteractivity(w);return}Ee(w)}}function Ge(w){l.props.trigger.indexOf("focusin")<0&&w.target!==U()||l.props.interactive&&w.relatedTarget&&v.contains(w.relatedTarget)||Ee(w)}function Ye(w){return me.isTouch?I()!==w.type.indexOf("touch")>=0:!1}function ft(){mt();var w=l.props,R=w.popperOptions,k=w.placement,M=w.offset,B=w.getReferenceClientRect,G=w.moveTransition,ae=$()?ur(v).arrow:null,Le=B?{getBoundingClientRect:B,contextElement:B.contextElement||U()}:e,Ar={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(bt){var Be=bt.state;if($()){var On=J(),Vt=On.box;["placement","reference-hidden","escaped"].forEach(function(vt){vt==="placement"?Vt.setAttribute("data-placement",Be.placement):Be.attributes.popper["data-popper-"+vt]?Vt.setAttribute("data-"+vt,""):Vt.removeAttribute("data-"+vt)}),Be.attributes.popper={}}}},Ce=[{name:"offset",options:{offset:M}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!G}},Ar];$()&&ae&&Ce.push({name:"arrow",options:{element:ae,padding:3}}),Ce.push.apply(Ce,(R==null?void 0:R.modifiers)||[]),l.popperInstance=ln(Le,v,Object.assign({},R,{placement:k,onFirstUpdate:C,modifiers:Ce}))}function mt(){l.popperInstance&&(l.popperInstance.destroy(),l.popperInstance=null)}function be(){var w=l.props.appendTo,R,k=U();l.props.interactive&&w===pn||w==="parent"?R=k.parentNode:R=fn(w,[k]),R.contains(v)||R.appendChild(v),l.state.isMounted=!0,ft()}function je(){return Dt(v.querySelectorAll("[data-tippy-root]"))}function Ze(w){l.clearDelayTimeouts(),w&&L("onTrigger",[l,w]),ee();var R=T(!0),k=_(),M=k[0],B=k[1];me.isTouch&&M==="hold"&&B&&(R=B),R?n=setTimeout(function(){l.show()},R):l.show()}function Ee(w){if(l.clearDelayTimeouts(),L("onUntrigger",[l,w]),!l.state.isVisible){xe();return}if(!(l.props.trigger.indexOf("mouseenter")>=0&&l.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(w.type)>=0&&a)){var R=T(!1);R?o=setTimeout(function(){l.state.isVisible&&l.hide()},R):i=requestAnimationFrame(function(){l.hide()})}}function Qe(){l.state.isEnabled=!0}function ht(){l.hide(),l.state.isEnabled=!1}function gt(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(i)}function xt(w){if(!l.state.isDestroyed){L("onBeforeUpdate",[l,w]),dt();var R=l.props,k=os(e,Object.assign({},R,ts(w),{ignoreAttributes:!0}));l.props=k,_e(),R.interactiveDebounce!==k.interactiveDebounce&&(V(),f=Qr(ut,k.interactiveDebounce)),R.triggerTarget&&!k.triggerTarget?Ue(R.triggerTarget).forEach(function(M){M.removeAttribute("aria-expanded")}):k.triggerTarget&&e.removeAttribute("aria-expanded"),W(),h(),O&&O(R,k),l.popperInstance&&(ft(),je().forEach(function(M){requestAnimationFrame(M._tippy.popperInstance.forceUpdate)})),L("onAfterUpdate",[l,w])}}function yt(w){l.setProps({content:w})}function jn(){var w=l.state.isVisible,R=l.state.isDestroyed,k=!l.state.isEnabled,M=me.isTouch&&!l.props.touch,B=Xt(l.props.duration,0,ue.duration);if(!(w||R||k||M)&&!U().hasAttribute("disabled")&&(L("onShow",[l],!1),l.props.onShow(l)!==!1)){if(l.state.isVisible=!0,$()&&(v.style.visibility="visible"),h(),ee(),l.state.isMounted||(v.style.transition="none"),$()){var G=J(),ae=G.box,Le=G.content;Gt([ae,Le],0)}C=function(){var Ce;if(!(!l.state.isVisible||p)){if(p=!0,v.offsetHeight,v.style.transition=l.props.moveTransition,$()&&l.props.animation){var zt=J(),bt=zt.box,Be=zt.content;Gt([bt,Be],B),rs([bt,Be],"visible")}q(),W(),es(Zt,l),(Ce=l.popperInstance)==null||Ce.forceUpdate(),L("onMount",[l]),l.props.animation&&$()&&ye(B,function(){l.state.isShown=!0,L("onShown",[l])})}},be()}}function Nn(){var w=!l.state.isVisible,R=l.state.isDestroyed,k=!l.state.isEnabled,M=Xt(l.props.duration,1,ue.duration);if(!(w||R||k)&&(L("onHide",[l],!1),l.props.onHide(l)!==!1)){if(l.state.isVisible=!1,l.state.isShown=!1,p=!1,a=!1,$()&&(v.style.visibility="hidden"),V(),xe(),h(!0),$()){var B=J(),G=B.box,ae=B.content;l.props.animation&&(Gt([G,ae],M),rs([G,ae],"hidden"))}q(),W(),l.props.animation?$()&&Fe(M,l.unmount):l.unmount()}}function En(w){H().addEventListener("mousemove",f),es(Nt,f),f(w)}function Cn(){l.state.isVisible&&l.hide(),l.state.isMounted&&(mt(),je().forEach(function(w){w._tippy.unmount()}),v.parentNode&&v.parentNode.removeChild(v),Zt=Zt.filter(function(w){return w!==l}),l.state.isMounted=!1,L("onHidden",[l]))}function Sn(){l.state.isDestroyed||(l.clearDelayTimeouts(),l.unmount(),dt(),delete e._tippy,l.state.isDestroyed=!0,L("onDestroy",[l]))}}function ct(e,t){t===void 0&&(t={});var r=ue.plugins.concat(t.plugins||[]);ca();var n=Object.assign({},t,{plugins:r}),o=na(e),i=o.reduce(function(a,c){var d=c&&ba(c,n);return d&&a.push(d),a},[]);return Ht(e)?i[0]:i}ct.defaultProps=ue;ct.setDefaultProps=ha;ct.currentInput=me;Object.assign({},Mt,{effect:function(t){var r=t.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});ct.setDefaultProps({render:gn});pr.use(Rn);pr.use(Xi);function va(e){var r,n;const t=[];return e?(console.log("[Transform] Processing graph data:",{hasNodes:!!e.nodes,nodeCount:((r=e.nodes)==null?void 0:r.length)||0,hasEdges:!!e.edges,edgeCount:((n=e.edges)==null?void 0:n.length)||0}),e.nodes&&Array.isArray(e.nodes)?e.nodes.forEach((o,i)=>{try{if(!o||typeof o!="object"){console.warn(`[Transform] Invalid node at index ${i}:`,o);return}const a=o.id||o.elementId||`node_${i}`;if(!a){console.warn(`[Transform] Node missing ID at index ${i}:`,o);return}const c=o.properties||{},d=o.label||c.name||c.title||`Node ${a}`,p=o.group?[o.group]:c.labels||["Unknown"];let u="unknown";const b={supplier:["supplier","vendor"],manufacturer:["manufacturer","factory","producer"],customer:["customer","client","buyer"],distributor:["distributor","dealer"],retailer:["retailer"],warehouse:["warehouse","storage"],logistics:["logistics","shipping"]},C=(y,m)=>m.some(S=>String(y).toLowerCase().includes(S));for(const[y,m]of Object.entries(b))if(C(p.join(" ").toLowerCase(),m)||C(d.toLowerCase(),m)){u=y;break}const E=String(c.status||"").toLowerCase();let f="";E.includes("active")||E.includes("online")?f="active":E.includes("inactive")||E.includes("offline")?f="inactive":(E.includes("critical")||E.includes("error"))&&(f="critical"),t.push({group:"nodes",data:{id:String(a),label:String(d),neo4j_labels:p,group:o.group||u,properties:c,nodeType:u},classes:`${u} ${f}`.trim()})}catch(a){console.error(`[Transform] Error processing node at index ${i}:`,a,o)}}):console.warn("[Transform] graphData.nodes is not an array or is missing"),e.edges&&Array.isArray(e.edges)?e.edges.forEach((o,i)=>{try{if(!o||typeof o!="object"){console.warn(`[Transform] Invalid edge at index ${i}:`,o);return}const a=o.id||o.elementId||`edge_${i}`;if(!a){console.warn(`[Transform] Edge missing ID at index ${i}:`,o);return}const c=o.from||o.source||o.startNodeElementId||o.start,d=o.to||o.target||o.endNodeElementId||o.end;if(!c||!d){console.warn(`[Transform] Edge missing source/target at index ${i}:`,o);return}const p=o.properties||{},u=o.label||p.type||p.relationship||"RELATED_TO";let b="related";const C=String(u).toLowerCase();C.includes("supplies")?b="supplies":C.includes("manufactures")?b="manufactures":C.includes("distributes")?b="distributes":C.includes("sells")&&(b="sells");const E=p.status==="CRITICAL"||p.priority==="HIGH";t.push({group:"edges",data:{id:String(a),source:String(c),target:String(d),label:String(u),properties:p,edgeType:b},classes:`${b} ${E?"critical":""}`.trim()})}catch(a){console.error(`[Transform] Error processing edge at index ${i}:`,a,o)}}):console.warn("[Transform] graphData.edges is not an array or is missing"),console.log(`[Transform] Successfully converted ${t.length} elements for Cytoscape (${t.filter(o=>o.group==="nodes").length} nodes, ${t.filter(o=>o.group==="edges").length} edges)`),t):(console.warn("[Transform] No graph data provided"),t)}const wa=[{selector:"node",style:{"background-color":"#95A5A6","border-color":"#7F8C8D","border-width":2,label:"data(label)",width:65,height:65,"font-size":"11px","font-family":'"Segoe UI", "Helvetica Neue", Arial, sans-serif',"font-weight":"600","text-valign":"center",color:"#2C3E50","text-wrap":"wrap","text-max-width":"55px","transition-property":"border-width, background-color","transition-duration":"0.2s"}},{selector:"node.supplier",style:{"background-color":"#27AE60","border-color":"#229954",shape:"ellipse"}},{selector:"node.manufacturer",style:{"background-color":"#3498DB","border-color":"#2980B9",shape:"round-rectangle"}},{selector:"node.customer",style:{"background-color":"#E74C3C","border-color":"#C0392B",shape:"diamond"}},{selector:"node.distributor",style:{"background-color":"#F39C12","border-color":"#E67E22",shape:"hexagon"}},{selector:"node.retailer",style:{"background-color":"#9B59B6","border-color":"#8E44AD",shape:"star"}},{selector:"node.warehouse",style:{"background-color":"#16A085","border-color":"#138D75",shape:"round-triangle"}},{selector:"node.logistics",style:{"background-color":"#D35400","border-color":"#BA4A00",shape:"vee"}},{selector:"node.active",style:{"border-width":4,"border-color":"#2ECC71"}},{selector:"node.inactive",style:{opacity:.7,"border-style":"dashed"}},{selector:"node.critical",style:{"border-color":"#E74C3C","border-width":5,"border-style":"double"}},{selector:"edge",style:{width:3,"line-color":"#BDC3C7","target-arrow-color":"#BDC3C7","target-arrow-shape":"triangle","curve-style":"bezier","font-size":"9px","font-family":'"Segoe UI", Arial, sans-serif',color:"#34495E","text-background-opacity":1,"text-background-color":"#FFFFFF","text-background-padding":"3px","text-border-color":"#BDC3C7","text-border-width":1,"transition-property":"width, line-color, target-arrow-color","transition-duration":"0.3s"}},{selector:"edge.supplies",style:{"line-color":"#27AE60","target-arrow-color":"#27AE60",width:4}},{selector:"edge.manufactures",style:{"line-color":"#3498DB","target-arrow-color":"#3498DB",width:4}},{selector:"edge.distributes",style:{"line-color":"#F39C12","target-arrow-color":"#F39C12","line-style":"dashed",width:4}},{selector:"edge.sells",style:{"line-color":"#9B59B6","target-arrow-color":"#9B59B6",width:4}},{selector:"edge.critical",style:{width:6,"line-color":"#E74C3C","target-arrow-color":"#E74C3C"}},{selector:"node:selected",style:{"border-width":5,"border-color":"#2C3E50","border-style":"double"}},{selector:"edge:selected",style:{width:6,"line-color":"#2C3E50","target-arrow-color":"#2C3E50"}},{selector:"edge.connected",style:{width:5,"line-color":"#F39C12","target-arrow-color":"#F39C12","z-index":10}},{selector:"node.neighbor",style:{"border-width":3,"border-color":"#F39C12"}},{selector:".dimmed",style:{opacity:.3}}],ja=({nodeTypes:e=[],edgeTypes:t=[]})=>{const r={supplier:{background:"#27AE60",shape:"circle"},manufacturer:{background:"#3498DB",shape:"round-rectangle"},customer:{background:"#E74C3C",shape:"diamond"},distributor:{background:"#F39C12",shape:"hexagon"},retailer:{background:"#9B59B6",shape:"star"},warehouse:{background:"#16A085",shape:"round-triangle"},logistics:{background:"#D35400",shape:"vee"},unknown:{background:"#95A5A6",shape:"circle"}},n={supplies:{background:"#27AE60",style:"solid"},manufactures:{background:"#3498DB",style:"solid"},distributes:{background:"#F39C12",style:"dashed"},sells:{background:"#9B59B6",style:"solid"},related:{background:"#BDC3C7",style:"solid"}},o=a=>{switch(a){case"circle":return{borderRadius:"50%"};case"round-rectangle":return{borderRadius:"4px"};case"diamond":return{transform:"rotate(45deg)"};case"hexagon":return{clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)"};case"star":return{clipPath:"polygon(50% 0%, 93.3% 25%, 93.3% 75%, 50% 100%, 6.7% 75%, 6.7% 25%)"};case"round-triangle":return{clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)"};case"vee":return{clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)"};default:return{borderRadius:"50%"}}},i=a=>a==="dashed"?{borderStyle:"dashed",borderWidth:"1px 0",borderColor:"currentColor"}:{};return s.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",background:"rgba(255, 255, 255, 0.95)",border:"1px solid #BDC3C7",borderRadius:"6px",padding:"8px",fontSize:"11px",fontFamily:'"Segoe UI", Arial, sans-serif',boxShadow:"0 2px 8px rgba(0,0,0,0.1)",zIndex:100,maxHeight:"70vh",overflowY:"auto"},children:[s.jsx("div",{style:{fontWeight:"600",marginBottom:"6px",color:"#2C3E50"},children:"Legend"}),e.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{fontWeight:"600",marginTop:"8px",marginBottom:"4px",fontSize:"10px",color:"#34495E"},children:"Node Types"}),e.map(a=>{const c=r[a]||r.unknown;return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"2px"},children:[s.jsx("div",{style:{width:"12px",height:"12px",background:c.background,...o(c.shape)}}),s.jsx("span",{style:{textTransform:"capitalize"},children:a})]},a)})]}),t.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{fontWeight:"600",marginTop:"8px",marginBottom:"4px",fontSize:"10px",color:"#34495E"},children:"Relationships"}),t.map(a=>{const c=n[a]||n.related;return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"2px"},children:[s.jsx("div",{style:{width:"20px",height:"2px",background:c.background,...i(c.style)}}),s.jsx("span",{style:{textTransform:"capitalize"},children:a})]},a)})]}),s.jsx("div",{style:{fontWeight:"600",marginTop:"8px",marginBottom:"4px",fontSize:"10px",color:"#34495E"},children:"Shortcuts"}),s.jsx("div",{style:{fontSize:"9px",color:"#7F8C8D",lineHeight:"1.3"},children:"F: Fit, C: Center, L: Toggle Legend, R: Reset, Esc: Clear"})]})},Na=()=>s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,background:"rgba(255, 255, 255, 0.9)",padding:"20px",borderRadius:"8px",textAlign:"center"},children:s.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#2C3E50"},children:"Loading Graph..."})}),Ea=()=>s.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,background:"rgba(255, 255, 255, 0.95)",padding:"30px",borderRadius:"12px",textAlign:"center",border:"2px solid #BDC3C7"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",color:"#BDC3C7"},children:""}),s.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#2C3E50",marginBottom:"12px"},children:"No Graph Data"}),s.jsx("div",{style:{fontSize:"14px",color:"#7F8C8D"},children:"Upload documents or use the chat to build your knowledge graph."})]}),Ca=({graphData:e,onNodeSelect:t,loading:r})=>{var E,f;const n=D.useRef(null),o=D.useRef(null),[i,a]=D.useState(!0),[c,d]=D.useState([]),[p,u]=D.useState([]),b=D.useCallback(y=>{const m=o.current;m&&(m.elements().removeClass("connected neighbor dimmed"),y&&y.isNode()&&(y.connectedEdges().addClass("connected"),y.neighborhood("node").addClass("neighbor"),m.elements().not(y.neighborhood()).not(y).addClass("dimmed")))},[]);D.useEffect(()=>{if(!n.current){console.warn("[Cytoscape] Container not ready");return}console.log("[Cytoscape] Initializing Cytoscape instance");let y;try{y=pr({container:n.current,style:wa,layout:{name:"cose-bilkent",animate:"end",animationDuration:1e3,fit:!0,padding:50},minZoom:.1,maxZoom:3,pixelRatio:"auto"}),o.current=y,console.log("[Cytoscape] Cytoscape instance created successfully")}catch(N){console.error("[Cytoscape] Failed to initialize Cytoscape:",N);return}let m;const S=(N,l)=>{try{if(!N||!N.popperRef)return console.warn("[Cytoscape] Invalid target for tooltip:",N),null;const x=document.createElement("div");return x.style.position="absolute",x.style.visibility="hidden",x.style.pointerEvents="none",document.body.appendChild(x),ct(x,{content:l,trigger:"manual",allowHTML:!0,arrow:!0,placement:"bottom",hideOnClick:!1,interactive:!0,theme:"light-border",maxWidth:"300px",getReferenceClientRect:()=>{try{const O=N.popperRef();return O?O.getBoundingClientRect():new DOMRect}catch(O){return console.warn("[Cytoscape] Error getting popper ref:",O),new DOMRect}},onHidden:()=>{x&&x.parentNode&&x.parentNode.removeChild(x)}})}catch(x){return console.error("[Cytoscape] Failed to create tooltip:",x),null}};y.on("mouseover","node, edge",N=>{try{const l=N.target;if(!l||!l.data||typeof l.data!="function"){console.warn("[Cytoscape] Invalid element in mouseover:",l);return}const x=l.data("properties")||{};let v=`<strong>${l.data("label")||"Unknown"}</strong><hr/>`;const O=Object.entries(x),P=10;for(let A=0;A<Math.min(O.length,P);A++){const[_,I]=O[A],$=typeof I=="object"?JSON.stringify(I).substring(0,50)+"...":String(I);v+=`<strong>${_}:</strong> ${$}<br/>`}if(O.length>P&&(v+=`<em>... and ${O.length-P} more properties</em>`),m){try{m.destroy()}catch(A){console.warn("[Cytoscape] Error destroying existing tooltip:",A)}m=null}m=S(l,v),m&&m.show(),b(l)}catch(l){console.error("[Cytoscape] Error in mouseover handler:",l)}}),y.on("mouseout","node, edge",()=>{try{if(m){try{m.destroy()}catch(N){console.warn("[Cytoscape] Error destroying tooltip in mouseout:",N)}m=null}b(null)}catch(N){console.error("[Cytoscape] Error in mouseout handler:",N)}}),y.on("tap","node",N=>{try{t&&t(N.target.data())}catch(l){console.error("[Cytoscape] Error in node tap handler:",l)}}),y.on("tap",N=>{try{N.target===y&&(y.elements().unselect(),b(null))}catch(l){console.error("[Cytoscape] Error in background tap handler:",l)}});const j=N=>{try{if(!o.current)return;const l=o.current;switch(N.key.toLowerCase()){case"f":l.fit(null,50),console.log("[Cytoscape] Fit to screen");break;case"c":l.center(l.$(":selected")),console.log("[Cytoscape] Center on selected");break;case"l":a(x=>!x),console.log("[Cytoscape] Toggle legend");break;case"r":try{l.layout({name:"cose-bilkent",animate:!0}).run(),console.log("[Cytoscape] Reset layout")}catch(x){console.error("[Cytoscape] Layout error:",x),l.layout({name:"grid",animate:!0}).run()}break;case"escape":l.elements().unselect(),b(null),console.log("[Cytoscape] Clear selection");break}}catch(l){console.error("[Cytoscape] Error in keypress handler:",l)}};return document.addEventListener("keydown",j),()=>{console.log("[Cytoscape] Cleaning up Cytoscape instance"),document.removeEventListener("keydown",j);try{y&&y.destroy()}catch(N){console.error("[Cytoscape] Error destroying Cytoscape instance:",N)}}},[t,b]),D.useEffect(()=>{const y=o.current;if(!y){console.warn("[Cytoscape] Cytoscape instance not ready for data update");return}if(!e){console.log("[Cytoscape] No graph data to update"),d([]),u([]);return}console.log("[Cytoscape] Updating graph data");try{const m=va(e);if(m.length===0){console.warn("[Cytoscape] No valid elements to display"),y.elements().remove(),d([]),u([]);return}const S=new Set,j=new Set;m.forEach(x=>{if(x.group==="nodes"){const v=x.data.nodeType||"unknown";S.add(v)}else if(x.group==="edges"){const v=x.data.edgeType||"related";j.add(v)}}),d(Array.from(S).sort()),u(Array.from(j).sort()),y.elements().remove(),y.add(m);const N=y.nodes().length,l=y.edges().length;if(console.log(`[Cytoscape] Added ${N} nodes and ${l} edges`),console.log(`[Cytoscape] Found node types: ${Array.from(S).join(", ")}`),console.log(`[Cytoscape] Found edge types: ${Array.from(j).join(", ")}`),N>0)try{let x;l===0?(console.log("[Cytoscape] Using grid layout for nodes-only graph"),x={name:"grid",animate:!0,fit:!0,padding:30,avoidOverlap:!0,avoidOverlapPadding:10}):N>50?(console.log("[Cytoscape] Using cose layout for large graph"),x={name:"cose",animate:"end",animationDuration:1e3,fit:!0,padding:50,nodeRepulsion:4e3,idealEdgeLength:100,edgeElasticity:.45,gravity:.25,numIter:1e3}):(console.log("[Cytoscape] Using cose-bilkent layout for connected graph"),x={name:"cose-bilkent",animate:"end",animationDuration:1e3,fit:!0,padding:50,nodeRepulsion:4500,idealEdgeLength:150,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:1e3,tile:!1,randomize:!0}),y.layout(x).run()}catch(x){console.error("[Cytoscape] Primary layout failed, trying fallback:",x);try{y.layout({name:"random",animate:!1,fit:!0,padding:30}).run(),console.log("[Cytoscape] Fallback random layout applied")}catch(v){console.error("[Cytoscape] All layouts failed:",v);try{y.fit(null,50),console.log("[Cytoscape] Applied fit-only as last resort")}catch(O){console.error("[Cytoscape] Even fit failed:",O)}}}else console.log("[Cytoscape] No nodes to layout")}catch(m){console.error("[Cytoscape] Error updating graph data:",m);try{y.elements().remove(),d([]),u([])}catch(S){console.error("[Cytoscape] Error clearing graph on failure:",S)}}},[e]);const C=!e||!((E=e.nodes)!=null&&E.length)&&!((f=e.edges)!=null&&f.length);return s.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",background:"#FFFFFF",border:"1px solid #BDC3C7",borderRadius:"8px"},children:[i&&s.jsx(ja,{nodeTypes:c,edgeTypes:p}),r&&s.jsx(Na,{}),!r&&C&&s.jsx(Ea,{}),s.jsx("div",{ref:n,style:{width:"100%",height:"100%",borderRadius:"8px"}})]})},Sa=({onGraphUpdate:e,onSearchResult:t,loading:r})=>{const[n,o]=D.useState([]),[i,a]=D.useState(""),[c,d]=D.useState(!1),p=D.useRef(null),[u,b]=D.useState(!0),[C,E]=D.useState(!1),f=D.useCallback(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight,b(!0),E(!1))},[]),y=D.useCallback(()=>{if(p.current){const{scrollTop:l,scrollHeight:x,clientHeight:v}=p.current,O=l+v>=x-10;b(O),E(!O&&n.length>3)}},[n.length]);D.useEffect(()=>{u&&p.current&&setTimeout(()=>{f()},100)},[n,u,f]);const m=async l=>{try{const x=await fetch(`/api/graph/search?q=${encodeURIComponent(l)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),v=[];if(x.ok){const A=await x.json();A.nodes&&A.nodes.length>0&&v.push(...A.nodes.map(_=>({..._,source:"Graph Search",type:"Graph Result"})))}const O=await fetch(`/api/vector/search?q=${encodeURIComponent(l)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(O.ok){const A=await O.json();A.results&&A.results.length>0&&v.push(...A.results.map(_=>({..._,source:"Vector Search",type:"Vector Result"})))}const P=await fetch(`/api/solr/search?q=${encodeURIComponent(l)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(P.ok){const A=await P.json();A.results&&A.results.length>0&&v.push(...A.results.map(_=>({..._,source:"Solr Search",type:"Document Result"})))}v.length>0?(t&&t(v),o(A=>[...A,{sender:"AI",text:`Found ${v.length} search result(s). Check the data table below for details.`}])):o(A=>[...A,{sender:"AI",text:"No search results found. Try rephrasing your query or check if documents have been uploaded."}])}catch(x){console.error("Search error:",x),o(v=>[...v,{sender:"AI",text:"Search failed. Please try again or check the service status."}])}},S=async l=>{try{const x=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:l})});if(x.ok){const v=await x.json(),O=v.textResponse||v.response||"I received your message but couldn&apos;t generate a specific response.";o(P=>[...P,{sender:"AI",text:O}]),v.graphData&&e&&e(v.graphData)}else throw new Error("Chat API failed")}catch(x){console.error("Regular chat error:",x),o(v=>[...v,{sender:"AI",text:"I&apos;m here to help with graph operations. Try commands like &quot;refresh&quot;, &quot;expand&quot;, or &quot;search&quot; to interact with the knowledge graph."}])}},j=async()=>{if(!i.trim())return;const l=i.trim();o(x=>[...x,{sender:"You",text:l}]),a(""),d(!0);try{if(l.toLowerCase().includes("refresh")||l.toLowerCase().includes("reload")){const x=await fetch("/api/graph");if(x.ok){const v=await x.json();e&&e(v),o(O=>[...O,{sender:"AI",text:"Graph data refreshed successfully!"}])}else throw new Error("Failed to refresh graph data")}else if(l.toLowerCase().includes("expand")||l.toLowerCase().includes("more")){const x=await fetch("/api/graph/all");if(x.ok){const v=await x.json();e&&e(v),o(O=>[...O,{sender:"AI",text:"Showing expanded graph with more data!"}])}else await S(l)}else if(l.toLowerCase().includes("reset")||l.toLowerCase().includes("show all")){const x=await fetch("/api/graph");if(x.ok){const v=await x.json();e&&e(v),o(O=>[...O,{sender:"AI",text:"Reset to original graph data"}])}}else l.toLowerCase().includes("search")||l.toLowerCase().includes("find")||l.toLowerCase().includes("query")||l.toLowerCase().includes("look for")?await m(l):await S(l)}catch(x){console.error("Error sending message or processing response:",x),o(v=>[...v,{sender:"System",text:`Error: ${x.message}`}])}finally{d(!1)}},N=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),j())};return s.jsxs("div",{className:"p-4 bg-gray-200",style:{display:"flex",flexDirection:"column",height:"100%",background:"#FFFFFF",border:"1px solid #BDC3C7",borderRadius:"8px"},children:[s.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #BDC3C7",background:"#F8F9FA",borderRadius:"8px 8px 0 0"},children:[s.jsx("h3",{style:{margin:0,color:"#2C3E50",fontSize:"16px",fontWeight:"600"},children:"Graph Chat Assistant"}),s.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"#7F8C8D"},children:"Ask questions about the graph or use commands like 'refresh', 'expand', or 'reset'"})]}),s.jsxs("div",{ref:p,onScroll:y,style:{flex:1,overflowY:"auto",padding:"16px",background:"#FFFFFF"},children:[n.length===0&&s.jsx("div",{style:{textAlign:"center",color:"#95A5A6",fontStyle:"italic",marginTop:"20px"},children:"Start a conversation about the graph data..."}),n.map((l,x)=>s.jsxs("div",{style:{marginBottom:"12px",padding:"12px",borderRadius:"8px",background:l.sender==="You"?"#E3F2FD":l.sender==="AI"?"#F3E5F5":"#FFEBEE",border:`1px solid ${l.sender==="You"?"#BBDEFB":l.sender==="AI"?"#E1BEE7":"#FFCDD2"}`},children:[s.jsx("div",{style:{fontWeight:"bold",fontSize:"12px",color:l.sender==="You"?"#1976D2":l.sender==="AI"?"#7B1FA2":"#D32F2F",marginBottom:"4px"},children:l.sender}),s.jsx("div",{style:{fontSize:"14px",color:"#2C3E50",lineHeight:"1.4",whiteSpace:"pre-wrap"},children:l.text})]},x)),c&&s.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#7F8C8D",fontStyle:"italic"},children:"Processing your request..."})]}),C&&s.jsx("button",{onClick:f,style:{position:"absolute",bottom:"80px",right:"20px",background:"#3498DB",color:"white",border:"none",borderRadius:"20px",padding:"8px 12px",fontSize:"12px",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:10},children:" Scroll to bottom"}),s.jsxs("div",{style:{padding:"16px",borderTop:"1px solid #BDC3C7",background:"#F8F9FA",borderRadius:"0 0 8px 8px"},children:[s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("input",{type:"text",value:i,onChange:l=>a(l.target.value),onKeyPress:N,disabled:c||r,placeholder:c?"Sending...":"Ask about the graph or type a command...",style:{flex:1,padding:"12px",border:"1px solid #BDC3C7",borderRadius:"6px",fontSize:"14px",outline:"none",background:c||r?"#F5F5F5":"#FFFFFF"}}),s.jsx("button",{onClick:j,disabled:!i.trim()||c||r,style:{padding:"12px 20px",background:!i.trim()||c||r?"#95A5A6":"#3498DB",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:!i.trim()||c||r?"not-allowed":"pointer",transition:"background-color 0.2s"},children:"Send"})]}),s.jsx("div",{style:{fontSize:"11px",color:"#7F8C8D",marginTop:"8px"},children:'Press Enter to send  Try: "refresh", "expand", "show more data", or ask questions'})]})]})};var xn={exports:{}},Oa="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Aa=Oa,Ta=Aa;function yn(){}function bn(){}bn.resetWarningCache=yn;var Ra=function(){function e(n,o,i,a,c,d){if(d!==Ta){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:bn,resetWarningCache:yn};return r.PropTypes=r,r};xn.exports=Ra();var ka=xn.exports;const Et=us(ka);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fa=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),ls=e=>{const t=Fa(e);return t.charAt(0).toUpperCase()+t.slice(1)},vn=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Pa=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:a,...c},d)=>D.createElement("svg",{ref:d,..._a,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:vn("lucide",o),...!i&&!Pa(c)&&{"aria-hidden":"true"},...c},[...a.map(([p,u])=>D.createElement(p,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const r=D.forwardRef(({className:n,...o},i)=>D.createElement(La,{ref:i,iconNode:t,className:vn(`lucide-${Da(ls(e))}`,`lucide-${e}`,n),...o}));return r.displayName=ls(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qt=ie("chart-column",Ba);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ua=ie("chevron-down",$a);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ia=ie("chevron-up",Ma);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tt=ie("circle-alert",qa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],za=ie("circle-check-big",Ha);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cs=ie("eye",Va);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],de=ie("file-text",Wa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Ka=ie("loader",Ja);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ds=ie("message-square",Xa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],er=ie("network",Ga);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tr=ie("settings",Ya);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ft=ie("upload",Za);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],el=ie("x",Qa),wn=({onUploadComplete:e,maxFileSize:t=50,acceptedTypes:r=[".pdf",".docx",".txt",".png",".jpg",".jpeg"]})=>{const[n,o]=D.useState([]),[i,a]=D.useState(!1),[c,d]=D.useState([]),[p,u]=D.useState(!1),b=D.useCallback(j=>{const N=[],l=[];j.forEach(x=>{var O;if(x.size>t*1024*1024){l.push(`${x.name}: File size exceeds ${t}MB limit`);return}const v="."+((O=x.name.split(".").pop())==null?void 0:O.toLowerCase());if(!r.includes(v)){l.push(`${x.name}: Unsupported file type. Accepted: ${r.join(", ")}`);return}N.push(x)}),l.length>0&&alert(`Some files were rejected:
`+l.join(`
`)),o(x=>[...x,...N])},[t,r]),C=D.useCallback(j=>{j.preventDefault(),j.stopPropagation(),j.type==="dragenter"||j.type==="dragover"?u(!0):j.type==="dragleave"&&u(!1)},[]),E=D.useCallback(j=>{if(j.preventDefault(),j.stopPropagation(),u(!1),j.dataTransfer.files&&j.dataTransfer.files[0]){const N=Array.from(j.dataTransfer.files);b(N)}},[b]),f=j=>{if(j.target.files){const N=Array.from(j.target.files);b(N)}},y=j=>{o(N=>N.filter((l,x)=>x!==j))},m=async()=>{if(n.length!==0){a(!0),d([]);try{const j=new FormData;n.forEach(x=>{j.append("files",x)}),console.log("Uploading files:",n.map(x=>x.name)),console.log("FormData entries:",Array.from(j.entries()).map(([x,v])=>`${x}: ${v instanceof File?v.name:v}`));const N=await fetch("/api/unstructured/batch-process",{method:"POST",body:j});console.log("Upload response status:",N.status);const l=await N.json();console.log("Upload result:",l),l.success?(d([{success:!0,message:l.message,files:l.files}]),o([]),e==null||e(l)):d([{success:!1,message:l.detail||l.error||"Upload failed"}])}catch(j){console.error("Upload error:",j),d([{success:!1,message:`Network error: ${j.message}`}])}finally{a(!1)}}},S=j=>{if(j===0)return"0 Bytes";const N=1024,l=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(j)/Math.log(N));return parseFloat((j/Math.pow(N,x)).toFixed(2))+" "+l[x]};return s.jsxs("div",{className:"w-full max-w-none mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Document Upload"}),s.jsxs("p",{className:"text-gray-600",children:["Upload documents for processing and analysis. Supported formats: ",r.join(", ")]})]}),s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${p?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:C,onDragLeave:C,onDragOver:C,onDrop:E,children:[s.jsx(Ft,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Drop files here or click to browse"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Maximum file size: ",t,"MB per file"]})]}),s.jsx("input",{type:"file",multiple:!0,accept:r.join(","),onChange:f,className:"hidden",id:"file-upload"}),s.jsx("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer transition-colors",children:"Choose Files"})]}),n.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Selected Files"}),s.jsx("div",{className:"space-y-2",children:n.map((j,N)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(de,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800",children:j.name}),s.jsx("p",{className:"text-sm text-gray-500",children:S(j.size)})]})]}),s.jsx("button",{onClick:()=>y(N),className:"text-red-500 hover:text-red-700 p-1",disabled:i,children:""})]},N))}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{onClick:m,disabled:i,className:"inline-flex items-center px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ka,{className:"animate-spin h-4 w-4 mr-2"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Upload ",n.length," File",n.length!==1?"s":""]})})})]}),c.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Upload Results"}),s.jsx("div",{className:"space-y-2",children:c.map((j,N)=>s.jsxs("div",{className:`p-3 rounded-md flex items-center space-x-3 ${j.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[j.success?s.jsx(za,{className:"h-5 w-5 text-green-600"}):s.jsx(Tt,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${j.success?"text-green-800":"text-red-800"}`,children:j.success?"Success":"Error"}),s.jsx("p",{className:`text-sm ${j.success?"text-green-600":"text-red-600"}`,children:j.message}),j.files&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Files queued: ",j.files.join(", ")]})]})]},N))})]})]})};wn.propTypes={onUploadComplete:Et.func,maxFileSize:Et.number,acceptedTypes:Et.arrayOf(Et.string)};const jl=()=>{const[e,t]=D.useState("graph"),[r,n]=D.useState({nodes:[],edges:[]}),[o,i]=D.useState(!0),[a,c]=D.useState(null),[d,p]=D.useState(null),[u,b]=D.useState(null),[C,E]=D.useState([]),[f,y]=D.useState(null),[m,S]=D.useState([]),[j,N]=D.useState(!1),[l,x]=D.useState(null),[v,O]=D.useState(!1);D.useEffect(()=>{P(),A(),_()},[]);const P=async()=>{try{i(!0);const T=await z.get("/api/graph");n(T.data)}catch(T){c("Failed to fetch graph data. Please ensure the backend is running."),console.error(T)}finally{i(!1)}},A=async()=>{try{N(!0);const T=await z.get("/api/unstructured/documents/status");S(T.data.documents||[])}catch(T){console.error("Failed to fetch documents:",T);try{const h=await z.get("/api/unstructured/documents");S(h.data.documents||[])}catch(h){console.error("Fallback fetch also failed:",h),S([])}}finally{N(!1)}},_=async()=>{try{const h=await(await fetch("/api/unstructured/status")).json();y(h.services)}catch(T){console.error("Failed to check service status:",T)}},I=D.useCallback(T=>{n(T)},[]),$=D.useCallback(T=>{p(T)},[]),U=D.useCallback(T=>{E(T),b(T.length>0?T[0]:null)},[]),H=[{id:"graph",label:"Knowledge Graph",icon:er},{id:"documents",label:"Document Library",icon:de},{id:"upload",label:"Upload Documents",icon:Ft},{id:"analytics",label:"System Analytics",icon:Qt}],J=()=>{var T;switch(e){case"graph":return s.jsxs("div",{className:"w-full h-full flex flex-col",children:[s.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[s.jsx("h2",{className:"m-0 text-gray-800 text-xl font-semibold",children:"Knowledge Graph"}),d&&s.jsxs("div",{className:"px-3 py-2 bg-blue-100 border border-blue-400 rounded-md text-xs text-blue-700",children:["Selected: ",d.label]})]}),s.jsx("div",{className:"flex-1 mb-4",children:s.jsx(Ca,{graphData:r,onNodeSelect:$,loading:o})}),s.jsxs("div",{className:"h-1/2 border-t border-gray-200 pt-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:C.length>0?"Search Results":"Graph Data Table"}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto max-h-64",children:C.length>0?s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Content"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map((h,L)=>s.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${u&&u===h?"bg-blue-50":""}`,onClick:()=>b(h),children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:h.type||"Result"})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:h.source||"Unknown"}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 max-w-xs truncate",children:h.content||h.text||h.label||"No content"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:h.score||h.similarity_score||"N/A"})]},L))})]}):s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Label"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Group"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Properties"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.nodes&&r.nodes.map((h,L)=>{var q;return s.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${d&&d.id===h.id?"bg-blue-50":""}`,onClick:()=>$(h),children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Node"})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:h.label||((q=h.properties)==null?void 0:q.name)||`Node ${h.id}`}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:h.group||"Unknown"}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs",children:s.jsxs("div",{className:"space-y-1",children:[h.properties?Object.entries(h.properties).slice(0,3).map(([W,V])=>s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:"font-medium truncate mr-2",children:[W,":"]}),s.jsx("span",{className:"truncate text-right",children:String(V).length>20?`${String(V).substring(0,20)}...`:String(V)})]},W)):"No properties",h.properties&&Object.keys(h.properties).length>3&&s.jsxs("div",{className:"text-xs text-gray-400",children:["+",Object.keys(h.properties).length-3," more"]})]})})]},h.id||L)}),r.edges&&r.edges.map((h,L)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Edge"})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:h.label||"Relationship"}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:[h.from,"  ",h.to]}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs",children:s.jsxs("div",{className:"space-y-1",children:[h.properties?Object.entries(h.properties).slice(0,3).map(([q,W])=>s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:"font-medium truncate mr-2",children:[q,":"]}),s.jsx("span",{className:"truncate text-right",children:String(W).length>20?`${String(W).substring(0,20)}...`:String(W)})]},q)):"No properties",h.properties&&Object.keys(h.properties).length>3&&s.jsxs("div",{className:"text-xs text-gray-400",children:["+",Object.keys(h.properties).length-3," more"]})]})})]},`edge-${L}`)),(!r.nodes||r.nodes.length===0)&&(!r.edges||r.edges.length===0)&&s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-500",children:"No graph data available. Upload documents or use the chat to build your knowledge graph."})})]})]})})})]})]});case"documents":return s.jsx("div",{className:"w-full h-full flex flex-col",children:s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Document Library"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"View and manage your processed documents. Monitor processing status and access detailed information."}),f&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),s.jsx("p",{className:"text-lg font-semibold text-blue-600",children:m.length})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:s.jsx(de,{className:"w-3 h-3 text-blue-500"})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Successfully Processed"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:m.filter(h=>h.processing_status==="completed").length})]}),s.jsx("div",{className:"p-2 rounded-full bg-green-100",children:s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed Processing"}),s.jsx("p",{className:"text-lg font-semibold text-red-600",children:m.filter(h=>h.processing_status==="failed").length})]}),s.jsx("div",{className:"p-2 rounded-full bg-red-100",children:s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Processing"}),s.jsx("p",{className:"text-lg font-semibold text-yellow-600",children:m.filter(h=>h.processing_status!=="completed"&&h.processing_status!=="failed").length})]}),s.jsx("div",{className:"p-2 rounded-full bg-yellow-100",children:s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 animate-pulse"})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),s.jsx("p",{className:"text-sm font-semibold text-gray-600",children:new Date().toLocaleTimeString()})]}),s.jsx("div",{className:"p-2 rounded-full bg-gray-100",children:s.jsx(tr,{className:"w-3 h-3 text-gray-500"})})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Document Management"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:A,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",disabled:j,children:j?"Loading...":"Refresh"}),s.jsx("button",{onClick:()=>t("upload"),className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors",children:"Upload Documents"})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto h-full",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filename"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Processed At"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Logs"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Properties"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[m.map((h,L)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.processing_status==="completed"?h.processing_stages&&h.processing_stages.length>=4?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800":h.processing_status==="failed"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:h.processing_status==="completed"?h.processing_stages&&h.processing_stages.length>=4?"Fully Processed":"Partially Processed":h.processing_status==="failed"?"Failed":"Processing"}),h.processing_stages&&h.processing_stages.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.processing_stages.slice(0,3).map(q=>s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-blue-50 text-blue-700",children:q},q)),h.processing_stages.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",h.processing_stages.length-3]})]})]})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:h.original_filename||h.filename||"Unknown"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:h.processing_type||"Unknown"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:h.file_size?`${(h.file_size/1024).toFixed(1)} KB`:"N/A"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:h.processed_at?new Date(h.processed_at).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[h.processing_status==="failed"&&s.jsxs("button",{onClick:()=>x(h),className:"inline-flex items-center px-2 py-1 text-xs bg-red-50 text-red-700 rounded hover:bg-red-100 transition-colors",children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"View Error"]}),h.processing_logs&&h.processing_logs.length>0&&s.jsxs("button",{onClick:()=>x(h),className:"inline-flex items-center px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors",children:[s.jsx(de,{className:"h-3 w-3 mr-1"}),"View Logs"]}),h.processing_status==="completed"&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-green-50 text-green-700 rounded",children:" Success"})]})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs",children:s.jsxs("div",{className:"space-y-1",children:[h.has_content&&s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"font-medium truncate mr-2",children:"Content:"}),s.jsxs("span",{className:"truncate text-right",children:[h.content_length," chars"]})]}),h.chunks_count>0&&s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"font-medium truncate mr-2",children:"Chunks:"}),s.jsx("span",{className:"truncate text-right",children:h.chunks_count})]}),h.embeddings_count>0&&s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"font-medium truncate mr-2",children:"Embeddings:"}),s.jsx("span",{className:"truncate text-right",children:h.embeddings_count})]}),h.has_vector_store&&s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"font-medium truncate mr-2",children:"Vector Store:"}),s.jsx("span",{className:"truncate text-right text-green-600",children:""})]}),!h.has_content&&h.chunks_count===0&&h.embeddings_count===0&&!h.has_vector_store&&s.jsx("div",{className:"text-xs text-gray-400 italic",children:"No processing data available"})]})})]},`${h.filename||"unknown"}-${L}`)),m.length===0&&!j&&s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(de,{className:"h-12 w-12 mx-auto text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium",children:"No documents found"}),s.jsx("p",{className:"text-sm",children:"Upload documents to get started with your knowledge graph."}),s.jsx("button",{onClick:()=>t("upload"),className:"mt-3 px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"Upload Documents"})]})]})})})]})]})})})]})]})});case"upload":return s.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex-shrink-0 px-6 py-4 border-b bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Upload Documents"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Drag and drop files or click to browse. Multiple files supported."})]}),s.jsx("button",{onClick:()=>t("documents"),className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"View Library"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[m.length," Total"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[m.filter(h=>h.processing_status==="completed").length," Processed"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[m.filter(h=>h.processing_status!=="completed"&&h.processing_status!=="failed").length," Processing"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[m.filter(h=>h.processing_status==="failed").length," Failed"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 px-4 py-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Supported:"}),s.jsx("span",{className:"text-xs text-blue-600",children:"PDF, DOCX, TXT"}),s.jsx("span",{className:"text-xs text-gray-400",children:"|"}),s.jsx("span",{className:"text-xs text-green-600",children:"PNG, JPG, TIFF"}),s.jsx("span",{className:"text-xs text-gray-400",children:"|"}),s.jsx("span",{className:"text-xs text-purple-600",children:"XLSX, CSV"})]})]})]}),s.jsxs("div",{className:"flex-1 flex gap-6 p-6 overflow-hidden",children:[s.jsxs("div",{className:"w-1/2 flex flex-col gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors",children:s.jsx(wn,{onUploadComplete:h=>{console.log("Upload completed:",h),A()}})}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Quick Tips"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:" Drag and drop multiple files at once"}),s.jsx("li",{children:" Files are processed automatically after upload"}),s.jsx("li",{children:" Processing time varies based on file size and complexity"}),s.jsx("li",{children:" Check the queue for real-time status updates"})]})]})]}),s.jsxs("div",{className:"w-1/2 flex flex-col bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Processing Queue"}),s.jsx("button",{onClick:A,className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",disabled:j,children:j?"Refreshing...":"Refresh"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 p-8",children:[s.jsx(Ft,{className:"h-16 w-16 mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"No documents in queue"}),s.jsx("p",{className:"text-sm",children:"Upload documents to see them here"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:m.map((h,L)=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${h.processing_status==="completed"?"bg-green-100":h.processing_status==="failed"?"bg-red-100":"bg-yellow-100"}`,children:h.processing_status==="completed"?s.jsx("span",{className:"text-green-600 text-lg",children:""}):h.processing_status==="failed"?s.jsx(Tt,{className:"h-5 w-5 text-red-600"}):s.jsx("div",{className:"w-5 h-5 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h.original_filename||h.filename||"Unknown"}),s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${h.processing_status==="completed"?"bg-green-100 text-green-800":h.processing_status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:h.processing_status==="completed"?"Completed":h.processing_status==="failed"?"Failed":"Processing"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-2",children:[s.jsx("span",{children:h.file_size?`${(h.file_size/1024).toFixed(1)} KB`:"N/A"}),s.jsx("span",{children:""}),s.jsx("span",{children:h.processing_type||"Unknown type"}),s.jsx("span",{children:""}),s.jsx("span",{children:h.processed_at?new Date(h.processed_at).toLocaleDateString():"Processing..."})]}),h.processing_stages&&h.processing_stages.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:h.processing_stages.map(q=>s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-blue-50 text-blue-700",children:q},q))}),h.processing_status!=="completed"&&h.processing_status!=="failed"&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-2",children:s.jsx("div",{className:"bg-yellow-500 h-1.5 rounded-full animate-pulse",style:{width:"60%"}})}),s.jsxs("div",{className:"flex items-center gap-2",children:[h.processing_status==="failed"&&s.jsxs("button",{onClick:()=>x(h),className:"inline-flex items-center px-2 py-1 text-xs bg-red-50 text-red-700 rounded hover:bg-red-100 transition-colors",children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"View Error"]}),h.processing_logs&&h.processing_logs.length>0&&s.jsxs("button",{onClick:()=>x(h),className:"inline-flex items-center px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors",children:[s.jsx(de,{className:"h-3 w-3 mr-1"}),"View Logs"]}),h.processing_status==="completed"&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs text-green-700",children:[h.chunks_count||0," chunks  ",h.embeddings_count||0," embeddings"]})]})]})]})},L))})})]})]})]});case"analytics":return s.jsx("div",{className:"w-full h-full flex flex-col",children:s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"System Analytics"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Monitor system performance, service health, and processing metrics across your knowledge graph infrastructure."}),f&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Neo4j Database"}),s.jsx("p",{className:`text-lg font-semibold ${f.neo4j_connection?"text-green-600":"text-red-600"}`,children:f.neo4j_connection?"Connected":"Disconnected"})]}),s.jsx("div",{className:`p-2 rounded-full ${f.neo4j_connection?"bg-green-100":"bg-red-100"}`,children:s.jsx("div",{className:`w-3 h-3 rounded-full ${f.neo4j_connection?"bg-green-500":"bg-red-500"}`})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tika Server"}),s.jsx("p",{className:`text-lg font-semibold ${f.tika_server?"text-green-600":"text-red-600"}`,children:f.tika_server?"Running":"Stopped"})]}),s.jsx("div",{className:`p-2 rounded-full ${f.tika_server?"bg-green-100":"bg-red-100"}`,children:s.jsx("div",{className:`w-3 h-3 rounded-full ${f.tika_server?"bg-green-500":"bg-red-500"}`})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"LLM Service"}),s.jsx("p",{className:`text-lg font-semibold ${f.llm_service?"text-green-600":"text-red-600"}`,children:f.llm_service?"Running":"Stopped"})]}),s.jsx("div",{className:`p-2 rounded-full ${f.llm_service?"bg-green-100":"bg-red-100"}`,children:s.jsx("div",{className:`w-3 h-3 rounded-full ${f.llm_service?"bg-green-500":"bg-red-500"}`})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Models"}),s.jsx("p",{className:"text-lg font-semibold text-blue-600",children:((T=f.available_models)==null?void 0:T.length)||0})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:s.jsx(tr,{className:"w-3 h-3 text-blue-500"})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Uptime"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:"99.9%"})]}),s.jsx("div",{className:"p-2 rounded-full bg-green-100",children:s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Document Processing Analytics"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"Supported File Types"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(de,{className:"h-6 w-6 mx-auto text-blue-500 mb-2"}),s.jsx("p",{className:"font-medium text-gray-700 text-sm",children:"Documents"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOCX, TXT"})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(de,{className:"h-6 w-6 mx-auto text-green-500 mb-2"}),s.jsx("p",{className:"font-medium text-gray-700 text-sm",children:"Images"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, TIFF"})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(de,{className:"h-6 w-6 mx-auto text-purple-500 mb-2"}),s.jsx("p",{className:"font-medium text-gray-700 text-sm",children:"Spreadsheets"}),s.jsx("p",{className:"text-xs text-gray-500",children:"XLSX, CSV"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"Processing Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-green-600",children:m.filter(h=>h.processing_status==="completed").length}),s.jsx("p",{className:"text-xs text-green-700",children:"Successfully Processed"})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-red-600",children:m.filter(h=>h.processing_status==="failed").length}),s.jsx("p",{className:"text-xs text-red-700",children:"Failed Processing"})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-blue-600",children:m.length}),s.jsx("p",{className:"text-xs text-blue-700",children:"Total Documents"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"System Performance Metrics"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Processing Time"}),s.jsx("p",{className:"text-lg font-semibold text-blue-600",children:"2.3 min"})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:s.jsx(tr,{className:"w-4 h-4 text-blue-500"})})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Memory Usage"}),s.jsx("p",{className:"text-lg font-semibold text-purple-600",children:"68%"})]}),s.jsx("div",{className:"p-2 rounded-full bg-purple-100",children:s.jsx(Qt,{className:"w-4 h-4 text-purple-500"})})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CPU Utilization"}),s.jsx("p",{className:"text-lg font-semibold text-orange-600",children:"45%"})]}),s.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:s.jsx(Qt,{className:"w-4 h-4 text-orange-500"})})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Connections"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:"12"})]}),s.jsx("div",{className:"p-2 rounded-full bg-green-100",children:s.jsx(er,{className:"w-4 h-4 text-green-500"})})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Storage Used"}),s.jsx("p",{className:"text-lg font-semibold text-indigo-600",children:"2.4 GB"})]}),s.jsx("div",{className:"p-2 rounded-full bg-indigo-100",children:s.jsx(de,{className:"w-4 h-4 text-indigo-500"})})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Activity"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-green-100",children:s.jsx(de,{className:"w-4 h-4 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Document processed successfully"}),s.jsx("p",{className:"text-xs text-gray-500",children:"annual_report.pdf - 2 minutes ago"})]})]})}),s.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:s.jsx(er,{className:"w-4 h-4 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Graph nodes updated"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Added 15 new relationships - 5 minutes ago"})]})]})}),s.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-red-100",children:s.jsx(Tt,{className:"w-4 h-4 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Processing failed"}),s.jsx("p",{className:"text-xs text-gray-500",children:"corrupted_file.docx - 10 minutes ago"})]})]})}),s.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-purple-100",children:s.jsx(ds,{className:"w-4 h-4 text-purple-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"AI query processed"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Search completed in 1.2 seconds - 15 minutes ago"})]})]})})]})]})]})});default:return null}};return s.jsxs("div",{className:"h-screen flex bg-gray-100",children:[s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsxs("div",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"NeoBoi Dashboard"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:P,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:"Refresh Graph"}),s.jsx("button",{onClick:_,className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Refresh Status"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("nav",{className:"flex space-x-8",children:H.map(T=>{const h=T.icon;return s.jsxs("button",{onClick:()=>t(T.id),className:`flex items-center px-1 py-2 border-b-2 font-medium text-sm transition-colors ${e===T.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(h,{className:"h-4 w-4 mr-2"}),T.label]},T.id)})})})]})}),s.jsx("div",{className:"flex-1 p-6 overflow-hidden",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm h-full overflow-hidden",children:J()})})]}),s.jsx("div",{className:`bg-white border-l border-gray-200 transition-all duration-300 ${v?"w-12":"w-96"}`,children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[!v&&s.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(ds,{className:"h-4 w-4"}),"AI Assistant"]}),s.jsx("button",{onClick:()=>O(!v),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:v?s.jsx(Ia,{className:"h-4 w-4 text-gray-600"}):s.jsx(Ua,{className:"h-4 w-4 text-gray-600"})})]}),!v&&s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(Sa,{onGraphUpdate:I,onSearchResult:U,loading:o})})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5 text-red-500"}),"Processing Error Details"]}),s.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(el,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Document Information"}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Filename:"})," ",l.filename]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Type:"})," ",l.processing_type]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Size:"})," ",l.file_size?`${(l.file_size/1024).toFixed(1)} KB`:"N/A"]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Processed At:"})," ",l.processed_at?new Date(l.processed_at).toLocaleString():"N/A"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Error Message"}),s.jsx("div",{className:"bg-red-50 border border-red-200 p-3 rounded-md",children:s.jsx("p",{className:"text-sm text-red-800 whitespace-pre-wrap",children:l.error_message||"No error message available"})})]}),l.error_details&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Additional Error Details"}),s.jsx("div",{className:"bg-red-50 border border-red-200 p-3 rounded-md",children:s.jsx("pre",{className:"text-xs text-red-800 whitespace-pre-wrap overflow-x-auto",children:typeof l.error_details=="string"?l.error_details:JSON.stringify(l.error_details,null,2)})})]}),l.processing_logs&&l.processing_logs.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Processing Logs"}),s.jsx("div",{className:"bg-gray-50 border p-3 rounded-md max-h-40 overflow-y-auto",children:s.jsx("div",{className:"space-y-1",children:l.processing_logs.map((T,h)=>s.jsx("div",{className:"text-xs text-gray-700 font-mono",children:T},h))})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Processing Stages Completed"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:l.processing_stages&&l.processing_stages.length>0?l.processing_stages.map(T=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:T},T)):s.jsx("span",{className:"text-sm text-gray-500",children:"No stages completed"})})]})]})}),s.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 transition-colors",children:"Close"}),s.jsx("button",{onClick:()=>{x(null)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 transition-colors",children:"Retry Processing"})]})]})})]})};export{jl as default};
//# sourceMappingURL=UnifiedDashboard-CIzI3oA3.js.map
